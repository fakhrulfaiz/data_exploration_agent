2025-12-10 04:04:02,179 - server - INFO - Logging configuration complete
2025-12-10 04:04:02,184 - server - INFO - Starting up Agent Backend API...
2025-12-10 04:04:06,161 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:06,161 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:06,272 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:11,158 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:11,200 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:11,265 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:17,136 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:17,312 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:17,312 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:25,173 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:25,428 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:25,555 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 04:04:32,304 - app.core.database - ERROR - ❌ Failed to initialize database: couldn't get a connection after 30.00 sec
2025-12-10 06:04:18,036 - server - INFO - Logging configuration complete
2025-12-10 06:04:18,036 - server - INFO - Starting up Agent Backend API...
2025-12-10 06:04:21,995 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:21,995 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:22,088 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:26,958 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:27,005 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:27,021 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:32,948 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:32,964 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:33,080 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:40,899 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:40,934 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:41,294 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:48,156 - app.core.database - ERROR - ❌ Failed to initialize database: couldn't get a connection after 30.00 sec
2025-12-10 06:04:50,686 - server - INFO - Logging configuration complete
2025-12-10 06:04:50,686 - server - INFO - Starting up Agent Backend API...
2025-12-10 06:04:54,607 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:54,607 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:54,723 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:59,577 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:59,577 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:04:59,620 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:05,388 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:05,608 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:05,682 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:13,008 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:13,738 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:13,881 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-10 06:05:20,786 - app.core.database - ERROR - ❌ Failed to initialize database: couldn't get a connection after 30.00 sec
2025-12-10 07:22:52,560 - server - INFO - Logging configuration complete
2025-12-10 07:22:52,561 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:22:52,711 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:22:52,759 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:22:52,772 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:22:53,216 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:22:53,217 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:22:53,217 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:26:23,999 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:26:24,000 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:26:24,001 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:26:24,002 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:26:24,002 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:26:53,346 - server - INFO - Logging configuration complete
2025-12-10 07:26:53,346 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:26:53,482 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:26:53,518 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:26:53,533 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:26:53,944 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:26:53,945 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:26:53,945 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:45:46,948 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 07:46:00,597 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 07:46:03,365 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 07:46:10,040 - app.api.v1.endpoints.conversation - INFO - Retrieving thread checkpoints
2025-12-10 07:46:10,053 - app.api.v1.endpoints.conversation - INFO - Retrieving thread checkpoints
2025-12-10 07:47:36,311 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 07:47:43,276 - app.api.v1.endpoints.conversation - INFO - Retrieving thread checkpoints
2025-12-10 07:47:43,281 - app.api.v1.endpoints.conversation - INFO - Retrieving thread checkpoints
2025-12-10 07:47:44,592 - app.api.v1.endpoints.conversation - INFO - Retrieving thread checkpoints
2025-12-10 07:48:23,876 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 07:49:53,094 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:49:53,095 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:49:53,097 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:49:53,101 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:49:53,102 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:49:55,675 - server - INFO - Logging configuration complete
2025-12-10 07:49:55,675 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:49:55,805 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:49:55,830 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:49:55,842 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:49:56,140 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:49:56,140 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:49:56,140 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:50:22,695 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:50:22,695 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:50:22,697 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:50:22,700 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:50:22,700 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:50:25,038 - server - INFO - Logging configuration complete
2025-12-10 07:50:25,038 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:50:25,135 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:50:25,157 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:50:25,166 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:50:25,480 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:50:25,480 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:50:25,481 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:51:09,374 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:51:09,375 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:51:09,376 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:51:09,380 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:51:09,380 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:51:13,512 - server - INFO - Logging configuration complete
2025-12-10 07:51:13,512 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:51:13,627 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:51:13,649 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:51:13,660 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:51:13,960 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:51:13,960 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:51:13,960 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:51:16,374 - server - INFO - Logging configuration complete
2025-12-10 07:51:16,374 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:51:16,479 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:51:16,502 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:51:16,511 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:51:16,833 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:51:16,833 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:51:16,834 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:59:01,944 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:59:01,945 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:59:01,946 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:59:01,950 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:59:01,950 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:59:05,350 - server - INFO - Logging configuration complete
2025-12-10 07:59:05,350 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:59:05,490 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:05,517 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:05,529 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:59:05,906 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:59:05,906 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:59:05,906 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:59:08,230 - server - INFO - Logging configuration complete
2025-12-10 07:59:08,231 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:59:08,340 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:08,363 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:08,373 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:59:08,683 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:59:08,684 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:59:08,684 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 07:59:29,533 - server - INFO - Shutting down Agent Backend API...
2025-12-10 07:59:29,534 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 07:59:29,535 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 07:59:29,537 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 07:59:29,538 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 07:59:46,846 - server - INFO - Logging configuration complete
2025-12-10 07:59:46,846 - server - INFO - Starting up Agent Backend API...
2025-12-10 07:59:46,863 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:46,888 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 07:59:46,897 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 07:59:47,191 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 07:59:47,192 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 07:59:47,192 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:01:23,706 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:01:23,706 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:01:23,708 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:01:23,722 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:01:23,723 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:01:27,875 - server - INFO - Logging configuration complete
2025-12-10 08:01:27,875 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:01:27,907 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:01:27,935 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:01:27,948 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:01:28,375 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:01:28,375 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:01:28,375 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:02:00,725 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:04:41,435 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:06:24,725 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:06:24,725 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:06:24,726 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:06:24,732 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:06:24,732 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:06:39,846 - server - INFO - Logging configuration complete
2025-12-10 08:06:39,846 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:06:39,875 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:06:39,900 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:06:39,911 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:06:40,310 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:06:40,310 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:06:40,310 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:06:40,319 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:06:40,333 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:06:41,142 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:06:42,638 - app.api.v1.endpoints.conversation - INFO - No authenticated user - returning empty checkpoints
2025-12-10 08:06:42,642 - app.api.v1.endpoints.conversation - INFO - No authenticated user - returning empty checkpoints
2025-12-10 08:10:51,977 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:11:18,541 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:11:18,595 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:14:36,559 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:14:36,560 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:14:36,561 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:14:36,564 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:14:36,565 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:14:39,146 - server - INFO - Logging configuration complete
2025-12-10 08:14:39,147 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:14:39,165 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:14:39,188 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:14:39,197 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:14:39,491 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:14:39,491 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:14:39,492 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:15:26,597 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:15:26,598 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:15:26,599 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:15:26,601 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:15:26,602 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:15:29,079 - server - INFO - Logging configuration complete
2025-12-10 08:15:29,079 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:15:29,096 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:15:29,119 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:15:29,128 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:15:29,407 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:15:29,407 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:15:29,407 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:18:31,897 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:18:31,898 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:18:31,899 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:18:31,902 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:18:31,903 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:18:34,902 - server - INFO - Logging configuration complete
2025-12-10 08:18:34,902 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:18:34,921 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:18:34,945 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:18:34,955 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:18:35,235 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:18:35,236 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:18:35,236 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:19:13,119 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:19:16,318 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:19:16,351 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:19:21,673 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:19:47,741 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database'
2025-12-10 08:19:47,741 - app.services.chat_thread_service - INFO - Creating new chat thread: 9265b6af-ee97-4a92-8020-b0d94bda55dc with user_id: what table exist in database
2025-12-10 08:19:47,748 - app.repositories.base_repository - ERROR - Error creating ChatThread: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $2: <built-in method title of str object at ... (expected str, got builtin_function_or_method)
[SQL: INSERT INTO chat_threads (thread_id, title, user_id, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE) RETURNING chat_threads.id]
[parameters: ('9265b6af-ee97-4a92-8020-b0d94bda55dc', <built-in method title of str object at 0x765d4e650cb0>, 'what table exist in database', datetime.datetime(2025, 12, 10, 8, 19, 47, 741557), datetime.datetime(2025, 12, 10, 8, 19, 47, 741559))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:19:47,749 - app.services.chat_thread_service - ERROR - Error creating chat thread: Failed to create ChatThread: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $2: <built-in method title of str object at ... (expected str, got builtin_function_or_method)
[SQL: INSERT INTO chat_threads (thread_id, title, user_id, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE) RETURNING chat_threads.id]
[parameters: ('9265b6af-ee97-4a92-8020-b0d94bda55dc', <built-in method title of str object at 0x765d4e650cb0>, 'what table exist in database', datetime.datetime(2025, 12, 10, 8, 19, 47, 741557), datetime.datetime(2025, 12, 10, 8, 19, 47, 741559))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:19:47,749 - app.api.v1.endpoints.conversation - ERROR - Error creating conversation: Failed to create chat thread: Failed to create ChatThread: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $2: <built-in method title of str object at ... (expected str, got builtin_function_or_method)
[SQL: INSERT INTO chat_threads (thread_id, title, user_id, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE) RETURNING chat_threads.id]
[parameters: ('9265b6af-ee97-4a92-8020-b0d94bda55dc', <built-in method title of str object at 0x765d4e650cb0>, 'what table exist in database', datetime.datetime(2025, 12, 10, 8, 19, 47, 741557), datetime.datetime(2025, 12, 10, 8, 19, 47, 741559))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:20:51,449 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:20:51,449 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:20:51,451 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:20:51,464 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:20:51,465 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:20:55,118 - server - INFO - Logging configuration complete
2025-12-10 08:20:55,118 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:20:55,148 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:20:55,172 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:20:55,182 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:20:55,568 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:20:55,568 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:20:55,569 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:21:24,207 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:21:25,427 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:21:28,797 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:21:28,798 - app.services.chat_thread_service - INFO - Creating new chat thread: 8270689a-2b23-4021-9bf7-b17688b39b65 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:21:28,808 - app.services.chat_thread_service - INFO - Created new chat thread: 8270689a-2b23-4021-9bf7-b17688b39b65
2025-12-10 08:21:28,842 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:21:28,842 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 8270689a-2b23-4021-9bf7-b17688b39b65
2025-12-10 08:21:28,889 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 8270689a-2b23-4021-9bf7-b17688b39b65, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:24:22,066 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:24:37,228 - app.services.chat_thread_service - INFO - Deleting thread 8270689a-2b23-4021-9bf7-b17688b39b65 (delete_checkpoint=True)
2025-12-10 08:24:37,232 - app.services.chat_thread_service - INFO - Deleted chat thread: 8270689a-2b23-4021-9bf7-b17688b39b65 (messages and content blocks deleted via cascade)
2025-12-10 08:24:37,232 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 08:26:04,528 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:26:04,529 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:26:04,530 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:26:04,535 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:26:04,535 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:26:08,048 - server - INFO - Logging configuration complete
2025-12-10 08:26:08,048 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:26:08,077 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:26:08,101 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:26:08,111 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:26:08,505 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:26:08,505 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:26:08,505 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:26:19,633 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:26:19,633 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:26:19,634 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:26:19,637 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:26:19,637 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:26:22,672 - server - INFO - Logging configuration complete
2025-12-10 08:26:22,672 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:26:22,691 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:26:22,717 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:26:22,727 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:26:23,030 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:26:23,030 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:26:23,031 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:26:37,223 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:26:50,522 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,522 - app.services.chat_thread_service - INFO - Creating new chat thread: d18d8bb3-c6d6-43d4-8347-00ce350ca210 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,525 - app.services.chat_thread_service - INFO - Created new chat thread: d18d8bb3-c6d6-43d4-8347-00ce350ca210
2025-12-10 08:26:50,551 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:26:50,551 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: d18d8bb3-c6d6-43d4-8347-00ce350ca210
2025-12-10 08:26:50,588 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: d18d8bb3-c6d6-43d4-8347-00ce350ca210, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,615 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: d18d8bb3-c6d6-43d4-8347-00ce350ca210, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,619 - app.services.message_management_service - INFO - Generated message_id: 85e97272-d4bc-4f53-b99e-6c4e9ca1a7fe for thread d18d8bb3-c6d6-43d4-8347-00ce350ca210
2025-12-10 08:26:50,619 - app.services.message_management_service - INFO - Saving user message 85e97272-d4bc-4f53-b99e-6c4e9ca1a7fe to thread d18d8bb3-c6d6-43d4-8347-00ce350ca210 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,635 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 85e97272-d4bc-4f53-b99e-6c4e9ca1a7fe
2025-12-10 08:26:50,637 - app.services.message_management_service - INFO - Successfully saved user message 85e97272-d4bc-4f53-b99e-6c4e9ca1a7fe to thread d18d8bb3-c6d6-43d4-8347-00ce350ca210
2025-12-10 08:26:50,637 - app.api.v1.endpoints.streaming_graph - INFO - Saved user message for thread d18d8bb3-c6d6-43d4-8347-00ce350ca210
2025-12-10 08:26:50,638 - app.api.v1.endpoints.streaming_graph - INFO - Starting stream event_generator - thread_id: d18d8bb3-c6d6-43d4-8347-00ce350ca210, user_id in config: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,638 - app.api.v1.endpoints.streaming_graph - ERROR - Streaming graph error for thread d18d8bb3-c6d6-43d4-8347-00ce350ca210: cannot access free variable 'agent' where it is not associated with a value in enclosing scope
Traceback (most recent call last):
  File "/app/app/api/v1/endpoints/streaming_graph.py", line 230, in event_generator
    for msg, metadata in agent.graph.stream(input_state, config, stream_mode="messages"):
                         ^^^^^
NameError: cannot access free variable 'agent' where it is not associated with a value in enclosing scope
2025-12-10 08:26:50,641 - app.services.message_management_service - INFO - Saving assistant message 1765355210589222 to thread d18d8bb3-c6d6-43d4-8347-00ce350ca210 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:26:50,644 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355210589222 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355210589222, 'd18d8bb3-c6d6-43d4-8347-00ce350ca210', 'ASSISTANT', 'STRUCTURED', None, None, '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:26:50,645 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355210589222 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355210589222, 'd18d8bb3-c6d6-43d4-8347-00ce350ca210', 'ASSISTANT', 'STRUCTURED', None, None, '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:26:50,645 - app.services.message_management_service - ERROR - Error saving assistant message to thread d18d8bb3-c6d6-43d4-8347-00ce350ca210: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355210589222 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355210589222, 'd18d8bb3-c6d6-43d4-8347-00ce350ca210', 'ASSISTANT', 'STRUCTURED', None, None, '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:26:50,646 - app.api.v1.endpoints.streaming_graph - ERROR - Failed to persist error message for thread d18d8bb3-c6d6-43d4-8347-00ce350ca210: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355210589222 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355210589222, 'd18d8bb3-c6d6-43d4-8347-00ce350ca210', 'ASSISTANT', 'STRUCTURED', None, None, '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:27:41,330 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:27:41,331 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:27:41,332 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:27:41,338 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:27:41,339 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:27:46,026 - server - INFO - Logging configuration complete
2025-12-10 08:27:46,026 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:27:46,046 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:27:46,073 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:27:46,082 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:27:46,368 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:27:46,368 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:27:46,368 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:27:48,952 - server - INFO - Logging configuration complete
2025-12-10 08:27:48,953 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:27:48,971 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:27:48,994 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:27:49,004 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:27:49,353 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:27:49,353 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:27:49,353 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:28:32,648 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:28:32,649 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:28:32,650 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:28:32,652 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:28:32,653 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:28:35,358 - server - INFO - Logging configuration complete
2025-12-10 08:28:35,359 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:28:35,381 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:35,410 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:35,423 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:28:35,757 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:28:35,757 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:28:35,757 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:28:42,273 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:28:42,273 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:28:42,274 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:28:42,277 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:28:42,278 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:28:44,807 - server - INFO - Logging configuration complete
2025-12-10 08:28:44,808 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:28:44,827 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:44,849 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:44,857 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:28:45,152 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:28:45,152 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:28:45,152 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:28:53,769 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:28:53,769 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:28:53,770 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:28:53,773 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:28:53,774 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:28:56,830 - server - INFO - Logging configuration complete
2025-12-10 08:28:56,830 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:28:56,849 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:56,873 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:28:56,883 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:28:57,236 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:28:57,236 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:28:57,236 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:28:59,341 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:28:59,342 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:28:59,343 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:28:59,346 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:28:59,347 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:29:01,862 - server - INFO - Logging configuration complete
2025-12-10 08:29:01,863 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:29:01,879 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:29:01,901 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:29:01,909 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:29:02,189 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:29:02,189 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:29:02,189 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:29:04,857 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:29:11,581 - app.services.chat_thread_service - INFO - Deleting thread d18d8bb3-c6d6-43d4-8347-00ce350ca210 (delete_checkpoint=True)
2025-12-10 08:29:11,584 - app.services.chat_thread_service - INFO - Deleted chat thread: d18d8bb3-c6d6-43d4-8347-00ce350ca210 (messages and content blocks deleted via cascade)
2025-12-10 08:29:11,584 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 08:31:17,445 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:31:17,445 - app.services.chat_thread_service - INFO - Creating new chat thread: 26dbbe0f-237b-48d8-8aa8-fad690137d1c with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:31:17,448 - app.services.chat_thread_service - INFO - Created new chat thread: 26dbbe0f-237b-48d8-8aa8-fad690137d1c
2025-12-10 08:31:17,451 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:31:17,451 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 26dbbe0f-237b-48d8-8aa8-fad690137d1c
2025-12-10 08:31:17,538 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 26dbbe0f-237b-48d8-8aa8-fad690137d1c, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:31:17,557 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: 26dbbe0f-237b-48d8-8aa8-fad690137d1c, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:32:58,700 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:32:58,700 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:32:58,701 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:32:58,704 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:32:58,705 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:33:05,424 - server - INFO - Logging configuration complete
2025-12-10 08:33:05,425 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:33:05,444 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:05,470 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:05,497 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:33:05,780 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:33:05,780 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:33:05,781 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:33:08,178 - server - INFO - Logging configuration complete
2025-12-10 08:33:08,178 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:33:08,198 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:08,223 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:08,232 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:33:08,536 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:33:08,537 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:33:08,537 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:33:15,555 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:33:15,555 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:33:15,556 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:33:15,559 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:33:15,560 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:33:18,808 - server - INFO - Logging configuration complete
2025-12-10 08:33:18,808 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:33:18,828 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:18,852 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:18,861 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:33:19,205 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:33:19,207 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:33:19,207 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:33:25,921 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:33:25,922 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:33:25,923 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:33:25,928 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:33:25,928 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:33:28,505 - server - INFO - Logging configuration complete
2025-12-10 08:33:28,505 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:33:28,524 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:28,546 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:33:28,554 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:33:28,835 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:33:28,835 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:33:28,835 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:33:34,573 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:33:37,237 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:37,238 - app.services.chat_thread_service - INFO - Creating new chat thread: 2781f236-15e8-4392-9efe-57cdf3a54a4d with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:37,241 - app.services.chat_thread_service - INFO - Created new chat thread: 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:33:37,244 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:33:37,244 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:33:37,329 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 2781f236-15e8-4392-9efe-57cdf3a54a4d, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:37,350 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: 2781f236-15e8-4392-9efe-57cdf3a54a4d, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:37,353 - app.services.message_management_service - INFO - Generated message_id: 4d748861-2c61-43bc-94bf-7f80d32d7fb0 for thread 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:33:37,353 - app.services.message_management_service - INFO - Saving user message 4d748861-2c61-43bc-94bf-7f80d32d7fb0 to thread 2781f236-15e8-4392-9efe-57cdf3a54a4d with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:37,359 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 4d748861-2c61-43bc-94bf-7f80d32d7fb0
2025-12-10 08:33:37,361 - app.services.message_management_service - INFO - Successfully saved user message 4d748861-2c61-43bc-94bf-7f80d32d7fb0 to thread 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:33:37,361 - app.api.v1.endpoints.streaming_graph - INFO - Saved user message for thread 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:33:37,361 - app.api.v1.endpoints.streaming_graph - INFO - Starting stream event_generator - thread_id: 2781f236-15e8-4392-9efe-57cdf3a54a4d, user_id in config: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:38,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:33:41,446 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:33:42,652 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:33:42,930 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_cGJqsQEk3RUXXoLel08lLm8B')]}
2025-12-10 08:33:43,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:33:45,762 - app.services.message_management_service - INFO - Saving assistant message 1765355617329850 to thread 2781f236-15e8-4392-9efe-57cdf3a54a4d with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:33:45,764 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355617329850 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355617329850, '2781f236-15e8-4392-9efe-57cdf3a54a4d', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a2f-1422-6612-8006-d4842699b951', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:33:45,764 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355617329850 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355617329850, '2781f236-15e8-4392-9efe-57cdf3a54a4d', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a2f-1422-6612-8006-d4842699b951', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:33:45,765 - app.services.message_management_service - ERROR - Error saving assistant message to thread 2781f236-15e8-4392-9efe-57cdf3a54a4d: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765355617329850 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765355617329850, '2781f236-15e8-4392-9efe-57cdf3a54a4d', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a2f-1422-6612-8006-d4842699b951', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:33:56,850 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:34:00,375 - app.services.chat_thread_service - INFO - Deleting thread 26dbbe0f-237b-48d8-8aa8-fad690137d1c (delete_checkpoint=True)
2025-12-10 08:34:00,378 - app.services.chat_thread_service - INFO - Deleted chat thread: 26dbbe0f-237b-48d8-8aa8-fad690137d1c (messages and content blocks deleted via cascade)
2025-12-10 08:34:00,378 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 08:34:03,093 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:34:03,101 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:34:10,144 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:34:10,150 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:34:28,950 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:34:47,391 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:34:47,392 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:34:47,393 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:34:47,396 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:34:47,396 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:34:49,800 - server - INFO - Logging configuration complete
2025-12-10 08:34:49,801 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:34:49,817 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:34:49,838 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:34:49,845 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:34:50,133 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:34:50,134 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:34:50,134 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:35:16,091 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:35:16,092 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:35:16,093 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:35:16,096 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:35:16,096 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:35:23,049 - server - INFO - Logging configuration complete
2025-12-10 08:35:23,049 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:35:23,068 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:23,092 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:23,101 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:35:23,433 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:35:23,433 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:35:23,433 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:35:24,836 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:35:24,837 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:35:24,837 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:35:24,842 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:35:24,842 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:35:27,259 - server - INFO - Logging configuration complete
2025-12-10 08:35:27,260 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:35:27,281 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:27,305 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:27,316 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:35:27,646 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:35:27,646 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:35:27,646 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:35:41,881 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:35:41,881 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:35:41,882 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:35:41,887 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:35:41,888 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:35:44,253 - server - INFO - Logging configuration complete
2025-12-10 08:35:44,253 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:35:44,271 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:44,291 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:44,299 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:35:44,570 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:35:44,570 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:35:44,570 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:35:55,293 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:35:55,294 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:35:55,295 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:35:55,297 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:35:55,298 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:35:57,741 - server - INFO - Logging configuration complete
2025-12-10 08:35:57,741 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:35:57,762 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:57,786 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:35:57,795 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:35:58,105 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:35:58,106 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:35:58,106 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:36:14,904 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:37:26,600 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:37:26,601 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:37:26,602 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:37:26,605 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:37:26,605 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:37:29,545 - server - INFO - Logging configuration complete
2025-12-10 08:37:29,545 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:37:29,566 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:37:29,597 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:37:29,607 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:37:29,905 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:37:29,906 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:37:29,906 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:37:32,101 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:38:54,605 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:38:54,606 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:38:54,607 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:38:54,612 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:38:54,613 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:38:58,288 - server - INFO - Logging configuration complete
2025-12-10 08:38:58,289 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:38:58,310 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:38:58,335 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:38:58,345 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:38:58,649 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:38:58,650 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:38:58,650 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:39:16,158 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:39:40,609 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:39:40,614 - app.services.agent_service - ERROR - Failed to get current state for 2781f236-15e8-4392-9efe-57cdf3a54a4d: 
2025-12-10 08:40:00,561 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:40:03,298 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:40:03,301 - app.services.agent_service - ERROR - Failed to get current state for 2781f236-15e8-4392-9efe-57cdf3a54a4d: 
2025-12-10 08:44:08,435 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:44:12,503 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 2781f236-15e8-4392-9efe-57cdf3a54a4d
2025-12-10 08:44:12,507 - app.services.agent_service - ERROR - Failed to get current state for 2781f236-15e8-4392-9efe-57cdf3a54a4d: 
2025-12-10 08:45:53,843 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:45:53,843 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:45:53,844 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:45:53,848 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:45:53,848 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:45:56,279 - server - INFO - Logging configuration complete
2025-12-10 08:45:56,280 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:45:56,298 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:45:56,320 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:45:56,328 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:45:56,611 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:45:56,611 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:45:56,612 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:00,623 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:00,623 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:00,624 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:00,629 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:00,629 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:03,230 - server - INFO - Logging configuration complete
2025-12-10 08:46:03,231 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:03,249 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:03,273 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:03,282 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:03,584 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:03,584 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:03,584 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:07,795 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:07,796 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:07,797 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:07,801 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:07,802 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:10,437 - server - INFO - Logging configuration complete
2025-12-10 08:46:10,437 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:10,456 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:10,480 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:10,488 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:10,786 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:10,786 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:10,786 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:16,401 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:16,401 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:16,402 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:16,405 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:16,405 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:18,926 - server - INFO - Logging configuration complete
2025-12-10 08:46:18,926 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:18,944 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:18,966 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:18,974 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:19,260 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:19,261 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:19,261 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:22,569 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:22,569 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:22,570 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:22,573 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:22,573 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:25,166 - server - INFO - Logging configuration complete
2025-12-10 08:46:25,166 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:25,185 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:25,209 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:25,219 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:25,546 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:25,546 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:25,547 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:26,951 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:26,951 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:26,952 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:26,955 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:26,955 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:29,858 - server - INFO - Logging configuration complete
2025-12-10 08:46:29,859 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:29,880 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:29,911 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:29,921 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:30,212 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:30,213 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:30,213 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:32,792 - server - INFO - Logging configuration complete
2025-12-10 08:46:32,792 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:32,809 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:32,831 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:32,839 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:33,124 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:33,124 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:33,124 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:48,661 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:48,662 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:48,663 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:48,668 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:48,668 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:51,254 - server - INFO - Logging configuration complete
2025-12-10 08:46:51,254 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:51,272 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:51,295 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:51,304 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:51,594 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:51,594 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:51,594 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:46:55,503 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:46:55,503 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:46:55,504 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:46:55,507 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:46:55,508 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:46:58,158 - server - INFO - Logging configuration complete
2025-12-10 08:46:58,159 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:46:58,179 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:58,205 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:46:58,214 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:46:58,521 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:46:58,521 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:46:58,521 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:47:01,185 - server - INFO - Logging configuration complete
2025-12-10 08:47:01,185 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:47:01,207 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:01,232 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:01,241 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:47:01,528 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:47:01,528 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:47:01,528 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:47:02,332 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:47:02,332 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:47:02,333 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:47:02,336 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:47:02,337 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:47:05,120 - server - INFO - Logging configuration complete
2025-12-10 08:47:05,121 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:47:05,139 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:05,162 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:05,171 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:47:05,463 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:47:05,463 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:47:05,463 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:47:07,905 - server - INFO - Logging configuration complete
2025-12-10 08:47:07,906 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:47:07,925 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:07,948 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:47:07,958 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:47:08,261 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:47:08,262 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:47:08,262 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:47:31,047 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:31,052 - app.services.chat_thread_service - INFO - Creating new chat thread: 3bc2ccc4-4418-45ea-9f0c-cdac35886621 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:31,057 - app.services.chat_thread_service - INFO - Created new chat thread: 3bc2ccc4-4418-45ea-9f0c-cdac35886621
2025-12-10 08:47:31,085 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:47:31,085 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 3bc2ccc4-4418-45ea-9f0c-cdac35886621
2025-12-10 08:47:31,172 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:31,172 - app.api.v1.endpoints.streaming_graph - INFO - Start request - human_request: 'what table exist in database', use_planning: False, use_explainer: False
2025-12-10 08:47:31,193 - app.api.v1.endpoints.streaming_graph - INFO - Stream graph endpoint called - thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621
2025-12-10 08:47:31,193 - app.api.v1.endpoints.streaming_graph - INFO - Dependencies injected - agent_service: True, message_service: True
2025-12-10 08:47:31,194 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:31,194 - app.api.v1.endpoints.streaming_graph - INFO - Message service availability: True
2025-12-10 08:47:31,194 - app.api.v1.endpoints.streaming_graph - INFO - Run data: {'type': 'start', 'human_request': 'what table exist in database', 'use_planning': False, 'use_explainer': False, 'assistant_message_id': 1765356451172992, 'user_id': '9c306950-71da-4d00-bcc0-931b1a6c110e'}
2025-12-10 08:47:31,195 - app.api.v1.endpoints.streaming_graph - INFO - Attempting to save user message - message_service: True, human_request: 'what table exist in database'
2025-12-10 08:47:31,195 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_user_message with thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, content: 'what table exist in database'
2025-12-10 08:47:31,198 - app.services.message_management_service - INFO - Generated message_id: d24ace5f-8907-459c-b2a8-fb0fff8ce11c for thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621
2025-12-10 08:47:31,198 - app.services.message_management_service - INFO - Saving user message d24ace5f-8907-459c-b2a8-fb0fff8ce11c to thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:31,204 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message d24ace5f-8907-459c-b2a8-fb0fff8ce11c
2025-12-10 08:47:31,207 - app.services.message_management_service - INFO - Successfully saved user message d24ace5f-8907-459c-b2a8-fb0fff8ce11c to thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621
2025-12-10 08:47:31,207 - app.api.v1.endpoints.streaming_graph - INFO - Successfully saved user message for thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621, message_id: d24ace5f-8907-459c-b2a8-fb0fff8ce11c
2025-12-10 08:47:31,208 - app.api.v1.endpoints.streaming_graph - INFO - Starting stream event_generator - thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621, user_id in config: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:32,693 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:47:34,504 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:47:35,046 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:47:35,568 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_ZITxZj7VQwRbY7bDlYYRFAAT')]}
2025-12-10 08:47:36,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 08:47:38,216 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_assistant_message for completion with thread_id: 3bc2ccc4-4418-45ea-9f0c-cdac35886621, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, message_id: 1765356451172992, checkpoint_id: 1f0d5a4e-1707-6a13-8006-31e7246aabab, content_blocks count: 3
2025-12-10 08:47:38,216 - app.services.message_management_service - INFO - Saving assistant message 1765356451172992 to thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:47:38,218 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:47:38,219 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:47:38,219 - app.services.message_management_service - ERROR - Error saving assistant message to thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:47:38,219 - app.api.v1.endpoints.streaming_graph - ERROR - Failed to save completion messages for thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/./codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/./codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 185, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: 1765356451172992 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/repositories/base_repository.py", line 25, in create
    await self.session.flush()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/api/v1/endpoints/streaming_graph.py", line 676, in event_generator
    saved_completion_message = await message_service.save_assistant_message(
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/message_management_service.py", line 213, in save_assistant_message
    success = await self.messages_repo.add_message(message)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repositories/messages_repository.py", line 31, in add_message
    return await self.create(message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repositories/base_repository.py", line 30, in create
    raise Exception(f"Failed to create {self.model.__name__}: {e}")
Exception: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765356451172992 (expected str, got int)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: (1765356451172992, '3bc2ccc4-4418-45ea-9f0c-cdac35886621', 'ASSISTANT', 'STRUCTURED', None, '1f0d5a4e-1707-6a13-8006-31e7246aabab', '9c306950-71da-4d00-bcc0-931b1a6c110e')]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-10 08:48:52,965 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:48:52,966 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:48:52,968 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:48:52,973 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:48:52,973 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:48:55,755 - server - INFO - Logging configuration complete
2025-12-10 08:48:55,755 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:48:55,783 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:48:55,823 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:48:55,835 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:48:56,143 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:48:56,144 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:48:56,144 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:00,657 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:00,658 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:00,659 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:00,662 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:00,663 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:03,268 - server - INFO - Logging configuration complete
2025-12-10 08:49:03,268 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:03,288 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:03,313 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:03,323 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:03,599 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:03,599 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:03,600 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:05,949 - server - INFO - Logging configuration complete
2025-12-10 08:49:05,949 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:05,967 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:05,990 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:05,999 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:06,283 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:06,283 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:06,283 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:18,915 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:18,915 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:18,916 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:18,919 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:18,919 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:21,650 - server - INFO - Logging configuration complete
2025-12-10 08:49:21,651 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:21,673 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:21,705 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:21,715 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:22,030 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:22,030 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:22,031 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:22,533 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:22,534 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:22,535 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:22,539 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:22,540 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:25,061 - server - INFO - Logging configuration complete
2025-12-10 08:49:25,062 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:25,081 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:25,104 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:25,114 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:25,408 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:25,408 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:25,408 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:26,712 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:26,712 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:26,713 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:26,716 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:26,717 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:29,262 - server - INFO - Logging configuration complete
2025-12-10 08:49:29,262 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:29,282 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:29,306 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:29,315 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:29,607 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:29,607 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:29,607 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:33,818 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:33,818 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:33,820 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:33,823 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:33,823 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:36,455 - server - INFO - Logging configuration complete
2025-12-10 08:49:36,456 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:36,476 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:36,502 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:36,512 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:36,811 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:36,811 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:36,811 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:49:48,942 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:49:48,942 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:49:48,943 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:49:48,947 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:49:48,948 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:49:51,621 - server - INFO - Logging configuration complete
2025-12-10 08:49:51,621 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:49:51,642 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:51,671 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:49:51,682 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:49:51,994 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:49:51,994 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:49:51,995 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:50:00,253 - app.services.chat_thread_service - INFO - Deleting thread 2781f236-15e8-4392-9efe-57cdf3a54a4d (delete_checkpoint=True)
2025-12-10 08:50:00,279 - app.services.chat_thread_service - INFO - Deleted chat thread: 2781f236-15e8-4392-9efe-57cdf3a54a4d (messages and content blocks deleted via cascade)
2025-12-10 08:50:00,279 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 08:50:01,774 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 08:50:04,035 - app.services.chat_thread_service - INFO - Deleting thread 3bc2ccc4-4418-45ea-9f0c-cdac35886621 (delete_checkpoint=True)
2025-12-10 08:50:04,037 - app.services.chat_thread_service - INFO - Deleted chat thread: 3bc2ccc4-4418-45ea-9f0c-cdac35886621 (messages and content blocks deleted via cascade)
2025-12-10 08:50:04,037 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 08:50:17,775 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:50:17,776 - app.services.chat_thread_service - INFO - Creating new chat thread: 7c0c9d87-3183-4391-9ccc-f154e18a9dd6 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:50:17,779 - app.services.chat_thread_service - INFO - Created new chat thread: 7c0c9d87-3183-4391-9ccc-f154e18a9dd6
2025-12-10 08:50:17,781 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 08:50:17,781 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 7c0c9d87-3183-4391-9ccc-f154e18a9dd6
2025-12-10 08:50:17,866 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 7c0c9d87-3183-4391-9ccc-f154e18a9dd6, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 08:50:17,866 - app.api.v1.endpoints.streaming_graph - INFO - Start request - human_request: 'what table exist in database', use_planning: False, use_explainer: False
2025-12-10 08:51:13,476 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:13,476 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:13,477 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:13,481 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:13,482 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:16,062 - server - INFO - Logging configuration complete
2025-12-10 08:51:16,063 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:16,081 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:16,104 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:16,113 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:16,411 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:16,411 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:16,411 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:51:17,917 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:17,917 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:17,918 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:17,923 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:17,923 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:20,577 - server - INFO - Logging configuration complete
2025-12-10 08:51:20,578 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:20,597 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:20,624 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:20,633 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:20,950 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:20,950 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:20,950 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:51:24,259 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:24,259 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:24,260 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:24,263 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:24,264 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:26,938 - server - INFO - Logging configuration complete
2025-12-10 08:51:26,938 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:26,957 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:26,985 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:26,994 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:27,310 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:27,311 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:27,311 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:51:28,715 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:28,716 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:28,717 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:28,720 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:28,720 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:31,359 - server - INFO - Logging configuration complete
2025-12-10 08:51:31,360 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:31,383 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:31,414 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:31,425 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:31,722 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:31,722 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:31,723 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:51:32,626 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:32,626 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:32,627 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:32,631 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:32,631 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:35,108 - server - INFO - Logging configuration complete
2025-12-10 08:51:35,109 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:35,127 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:35,151 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:35,160 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:35,457 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:35,457 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:35,458 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:51:36,962 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:51:36,962 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:51:36,963 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:51:36,968 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:51:36,968 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:51:39,625 - server - INFO - Logging configuration complete
2025-12-10 08:51:39,625 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:51:39,645 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:39,670 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:51:39,681 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:51:40,025 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:51:40,025 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:51:40,025 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:52:03,077 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:52:03,078 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:52:03,078 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:52:03,082 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:52:03,082 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:53:47,693 - server - INFO - Logging configuration complete
2025-12-10 08:53:47,694 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:53:47,714 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:53:47,748 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:53:47,762 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:53:48,101 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:53:48,101 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:53:48,102 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:54:59,762 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:54:59,763 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:54:59,764 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:54:59,767 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:54:59,768 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:55:02,461 - server - INFO - Logging configuration complete
2025-12-10 08:55:02,462 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:55:02,483 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:02,511 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:02,521 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:55:02,844 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:55:02,844 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:55:02,845 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:55:11,265 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:55:11,265 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:55:11,266 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:55:11,272 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:55:11,272 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:55:13,920 - server - INFO - Logging configuration complete
2025-12-10 08:55:13,920 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:55:13,945 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:13,970 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:13,981 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:55:14,285 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:55:14,285 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:55:14,285 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:55:17,494 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:55:17,494 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:55:17,496 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:55:17,499 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:55:17,499 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:55:20,260 - server - INFO - Logging configuration complete
2025-12-10 08:55:20,260 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:55:20,284 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:20,309 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:20,320 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:55:20,633 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:55:20,634 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:55:20,634 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:55:23,940 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:55:23,940 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:55:23,941 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:55:23,944 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:55:23,944 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:55:26,373 - server - INFO - Logging configuration complete
2025-12-10 08:55:26,373 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:55:26,391 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:26,415 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:26,425 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:55:26,714 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:55:26,714 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:55:26,715 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:55:29,008 - server - INFO - Logging configuration complete
2025-12-10 08:55:29,008 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:55:29,027 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:29,050 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:55:29,060 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:55:29,336 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:55:29,337 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:55:29,337 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:55:54,796 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:55:54,797 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:55:54,799 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:55:54,805 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:55:54,805 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:56:40,376 - server - INFO - Logging configuration complete
2025-12-10 08:56:40,376 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:56:40,395 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:40,419 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:40,428 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:56:40,717 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:56:40,717 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:56:40,717 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:56:44,727 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:56:44,728 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:56:44,729 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:56:44,732 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:56:44,733 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:56:47,291 - server - INFO - Logging configuration complete
2025-12-10 08:56:47,291 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:56:47,312 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:47,338 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:47,349 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:56:47,689 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:56:47,690 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:56:47,690 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:56:49,997 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:56:49,998 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:56:49,999 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:56:50,002 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:56:50,003 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:56:52,756 - server - INFO - Logging configuration complete
2025-12-10 08:56:52,756 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:56:52,779 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:52,806 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:56:52,816 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:56:53,111 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:56:53,111 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:56:53,112 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:56:57,822 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:56:57,823 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:56:57,824 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:56:57,827 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:56:57,827 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:57:00,508 - server - INFO - Logging configuration complete
2025-12-10 08:57:00,508 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:57:00,528 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:57:00,553 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:57:00,563 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:57:00,881 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:57:00,881 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:57:00,882 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:57:13,712 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:57:13,713 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:57:13,713 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:57:13,717 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:57:13,717 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:57:16,027 - server - INFO - Logging configuration complete
2025-12-10 08:57:16,028 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:57:16,046 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:57:16,069 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:57:16,078 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:57:16,361 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:57:16,361 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:57:16,361 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:58:53,578 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:58:53,579 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:58:53,580 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:58:53,582 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:58:53,583 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:58:56,124 - server - INFO - Logging configuration complete
2025-12-10 08:58:56,125 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:58:56,150 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:58:56,176 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:58:56,188 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:58:56,502 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:58:56,502 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:58:56,503 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:58:57,507 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:58:57,507 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:58:57,508 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:58:57,512 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:58:57,512 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:59:00,338 - server - INFO - Logging configuration complete
2025-12-10 08:59:00,338 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:59:00,362 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:00,393 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:00,405 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:59:00,716 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:59:00,717 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:59:00,717 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:59:03,431 - server - INFO - Logging configuration complete
2025-12-10 08:59:03,431 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:59:03,449 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:03,471 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:03,481 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:59:03,768 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:59:03,768 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:59:03,769 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:59:06,103 - server - INFO - Logging configuration complete
2025-12-10 08:59:06,104 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:59:06,123 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:06,145 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:06,154 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:59:06,445 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:59:06,445 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:59:06,446 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 08:59:45,429 - server - INFO - Shutting down Agent Backend API...
2025-12-10 08:59:45,429 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 08:59:45,430 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 08:59:45,433 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 08:59:45,433 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 08:59:47,908 - server - INFO - Logging configuration complete
2025-12-10 08:59:47,908 - server - INFO - Starting up Agent Backend API...
2025-12-10 08:59:47,928 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:47,954 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 08:59:47,964 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 08:59:48,282 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 08:59:48,283 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 08:59:48,283 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:00:04,589 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:00:16,246 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:16,247 - app.services.chat_thread_service - INFO - Creating new chat thread: 529a990b-51c8-43c8-991c-e0f073a3294a with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:16,250 - app.services.chat_thread_service - INFO - Created new chat thread: 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:16,254 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 09:00:16,254 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:16,333 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:16,333 - app.api.v1.endpoints.streaming_graph - INFO - Start request - human_request: 'what table exist in database', use_planning: False, use_explainer: False
2025-12-10 09:00:16,355 - app.api.v1.endpoints.streaming_graph - INFO - Stream graph endpoint called - thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:16,356 - app.api.v1.endpoints.streaming_graph - INFO - Dependencies injected - agent_service: True, message_service: True
2025-12-10 09:00:16,356 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:16,356 - app.api.v1.endpoints.streaming_graph - INFO - Message service availability: True
2025-12-10 09:00:16,356 - app.api.v1.endpoints.streaming_graph - INFO - Run data: {'type': 'start', 'human_request': 'what table exist in database', 'use_planning': False, 'use_explainer': False, 'assistant_message_id': '0d39c0be-39bb-4cd7-a158-5661c4690d1b', 'user_id': '9c306950-71da-4d00-bcc0-931b1a6c110e'}
2025-12-10 09:00:16,357 - app.api.v1.endpoints.streaming_graph - INFO - Attempting to save user message - message_service: True, human_request: 'what table exist in database'
2025-12-10 09:00:16,357 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_user_message with thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, content: 'what table exist in database'
2025-12-10 09:00:16,360 - app.services.message_management_service - INFO - Generated message_id: 35f226d3-3b80-46ec-9c3a-503abdf8a5ea for thread 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:16,360 - app.services.message_management_service - INFO - Saving user message 35f226d3-3b80-46ec-9c3a-503abdf8a5ea to thread 529a990b-51c8-43c8-991c-e0f073a3294a with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:16,366 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 35f226d3-3b80-46ec-9c3a-503abdf8a5ea
2025-12-10 09:00:16,368 - app.services.message_management_service - INFO - Successfully saved user message 35f226d3-3b80-46ec-9c3a-503abdf8a5ea to thread 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:16,369 - app.api.v1.endpoints.streaming_graph - INFO - Successfully saved user message for thread 529a990b-51c8-43c8-991c-e0f073a3294a, message_id: 35f226d3-3b80-46ec-9c3a-503abdf8a5ea
2025-12-10 09:00:16,369 - app.api.v1.endpoints.streaming_graph - INFO - Starting stream event_generator - thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, user_id in config: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:17,454 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:00:18,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:00:19,263 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:00:19,533 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_aSZYGdWxhVBcqA4ohsxlE0h2')]}
2025-12-10 09:00:20,894 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:00:22,944 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_assistant_message for completion with thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, message_id: 0d39c0be-39bb-4cd7-a158-5661c4690d1b, checkpoint_id: 1f0d5a6a-940e-6bfe-8006-288ab4abea97, content_blocks count: 3
2025-12-10 09:00:22,945 - app.services.message_management_service - INFO - Saving assistant message 0d39c0be-39bb-4cd7-a158-5661c4690d1b to thread 529a990b-51c8-43c8-991c-e0f073a3294a with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:22,950 - app.repositories.message_content_repository - INFO - Inserted 3 content blocks for message 0d39c0be-39bb-4cd7-a158-5661c4690d1b
2025-12-10 09:00:22,951 - app.services.message_management_service - INFO - Successfully saved assistant message 0d39c0be-39bb-4cd7-a158-5661c4690d1b to thread 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:22,951 - app.api.v1.endpoints.streaming_graph - INFO - Successfully saved assistant completion message 14 (UUID: 0d39c0be-39bb-4cd7-a158-5661c4690d1b) in thread 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:00:39,865 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:00:42,954 - app.services.chat_thread_service - INFO - Deleting thread 7c0c9d87-3183-4391-9ccc-f154e18a9dd6 (delete_checkpoint=True)
2025-12-10 09:00:42,957 - app.services.chat_thread_service - INFO - Deleted chat thread: 7c0c9d87-3183-4391-9ccc-f154e18a9dd6 (messages and content blocks deleted via cascade)
2025-12-10 09:00:42,957 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 09:00:45,312 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:45,320 - app.api.v1.endpoints.conversation - ERROR - Error retrieving checkpoints for user 9c306950-71da-4d00-bcc0-931b1a6c110e: 1 validation error for CheckpointSummary
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='0d39c0be-39bb-4cd7-a158-5661c4690d1b', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:00:45,339 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:45,347 - app.api.v1.endpoints.conversation - ERROR - Error retrieving checkpoints for user 9c306950-71da-4d00-bcc0-931b1a6c110e: 1 validation error for CheckpointSummary
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='0d39c0be-39bb-4cd7-a158-5661c4690d1b', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:00:46,805 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:00:46,809 - app.api.v1.endpoints.conversation - ERROR - Error retrieving checkpoints for user 9c306950-71da-4d00-bcc0-931b1a6c110e: 1 validation error for CheckpointSummary
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='0d39c0be-39bb-4cd7-a158-5661c4690d1b', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:01:03,526 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:01:03,532 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 35f226d3-3b80-46ec-9c3a-503abdf8a5ea: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='35f226d3-3b80-46ec-9c3a-503abdf8a5ea', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:01:03,533 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 0d39c0be-39bb-4cd7-a158-5661c4690d1b: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='0d39c0be-39bb-4cd7-a158-5661c4690d1b', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:01:03,533 - app.services.agent_service - ERROR - Failed to get current state for 529a990b-51c8-43c8-991c-e0f073a3294a: 
2025-12-10 09:02:12,912 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:12,913 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:12,914 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:12,917 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:12,918 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:15,453 - server - INFO - Logging configuration complete
2025-12-10 09:02:15,453 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:15,473 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:15,500 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:15,510 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:15,816 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:15,817 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:15,817 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:17,021 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:17,021 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:17,022 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:17,025 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:17,025 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:19,622 - server - INFO - Logging configuration complete
2025-12-10 09:02:19,622 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:19,643 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:19,670 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:19,680 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:19,991 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:19,991 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:19,991 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:30,312 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:30,312 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:30,313 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:30,316 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:30,317 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:33,173 - server - INFO - Logging configuration complete
2025-12-10 09:02:33,174 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:33,197 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:33,222 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:33,232 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:33,576 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:33,576 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:33,577 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:35,683 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:35,684 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:35,685 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:35,689 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:35,689 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:38,205 - server - INFO - Logging configuration complete
2025-12-10 09:02:38,206 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:38,225 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:38,249 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:38,258 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:38,577 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:38,578 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:38,578 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:40,083 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:40,084 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:40,085 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:40,088 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:40,088 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:42,701 - server - INFO - Logging configuration complete
2025-12-10 09:02:42,701 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:42,722 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:42,749 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:42,760 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:43,081 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:43,082 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:43,082 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:46,390 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:02:46,390 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:02:46,391 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:02:46,394 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:02:46,394 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:02:48,975 - server - INFO - Logging configuration complete
2025-12-10 09:02:48,975 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:48,994 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:49,020 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:49,030 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:49,349 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:49,349 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:49,350 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:52,097 - server - INFO - Logging configuration complete
2025-12-10 09:02:52,097 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:52,120 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:52,147 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:52,159 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:52,500 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:52,500 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:52,500 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:02:55,017 - server - INFO - Logging configuration complete
2025-12-10 09:02:55,018 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:02:55,039 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:55,065 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:02:55,075 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:02:55,376 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:02:55,376 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:02:55,377 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:03:24,944 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:03:24,944 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:03:24,945 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:03:24,948 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:03:24,948 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:03:27,988 - server - INFO - Logging configuration complete
2025-12-10 09:03:27,988 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:03:28,007 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:03:28,036 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:03:28,045 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:03:28,334 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:03:28,334 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:03:28,334 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:03:34,323 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:03:37,126 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:03:37,136 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:03:38,397 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, checkpoint_id: 1f0d5a6a-940e-6bfe-8006-288ab4abea97
2025-12-10 09:03:38,397 - app.services.agent_service - INFO - Getting explorer data for thread_id: 529a990b-51c8-43c8-991c-e0f073a3294a, checkpoint_id: 1f0d5a6a-940e-6bfe-8006-288ab4abea97
2025-12-10 09:03:38,398 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a6a-940e-6bfe-8006-288ab4abea97: Agent service not initialized. Call initialize_agent() first.
2025-12-10 09:03:48,548 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 529a990b-51c8-43c8-991c-e0f073a3294a
2025-12-10 09:03:48,558 - app.services.agent_service - ERROR - Failed to get current state for 529a990b-51c8-43c8-991c-e0f073a3294a: 
2025-12-10 09:03:52,400 - app.services.chat_thread_service - INFO - Deleting thread 529a990b-51c8-43c8-991c-e0f073a3294a (delete_checkpoint=True)
2025-12-10 09:03:52,403 - app.services.chat_thread_service - INFO - Deleted chat thread: 529a990b-51c8-43c8-991c-e0f073a3294a (messages and content blocks deleted via cascade)
2025-12-10 09:03:52,403 - app.services.chat_thread_service - WARNING - AgentService not initialized, skipping checkpoint deletion
2025-12-10 09:04:06,774 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'what table exist in database' for user: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:06,775 - app.services.chat_thread_service - INFO - Creating new chat thread: 210967ac-5766-459f-98d8-a82035ca14b9 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:06,778 - app.services.chat_thread_service - INFO - Created new chat thread: 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:06,780 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-10 09:04:06,780 - app.api.v1.endpoints.conversation - INFO - Thread created successfully: 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:06,863 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph /start - thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:06,863 - app.api.v1.endpoints.streaming_graph - INFO - Start request - human_request: 'what table exist in database', use_planning: False, use_explainer: False
2025-12-10 09:04:06,883 - app.api.v1.endpoints.streaming_graph - INFO - Stream graph endpoint called - thread_id: 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:06,883 - app.api.v1.endpoints.streaming_graph - INFO - Dependencies injected - agent_service: True, message_service: True
2025-12-10 09:04:06,884 - app.api.v1.endpoints.streaming_graph - INFO - Streaming graph execution - thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:06,884 - app.api.v1.endpoints.streaming_graph - INFO - Message service availability: True
2025-12-10 09:04:06,884 - app.api.v1.endpoints.streaming_graph - INFO - Run data: {'type': 'start', 'human_request': 'what table exist in database', 'use_planning': False, 'use_explainer': False, 'assistant_message_id': '9f34bb90-56af-4bea-ab7c-ae73b9bc2954', 'user_id': '9c306950-71da-4d00-bcc0-931b1a6c110e'}
2025-12-10 09:04:06,884 - app.api.v1.endpoints.streaming_graph - INFO - Attempting to save user message - message_service: True, human_request: 'what table exist in database'
2025-12-10 09:04:06,885 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_user_message with thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, content: 'what table exist in database'
2025-12-10 09:04:06,887 - app.services.message_management_service - INFO - Generated message_id: e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2 for thread 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:06,888 - app.services.message_management_service - INFO - Saving user message e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2 to thread 210967ac-5766-459f-98d8-a82035ca14b9 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:06,892 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2
2025-12-10 09:04:06,893 - app.services.message_management_service - INFO - Successfully saved user message e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2 to thread 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:06,893 - app.api.v1.endpoints.streaming_graph - INFO - Successfully saved user message for thread 210967ac-5766-459f-98d8-a82035ca14b9, message_id: e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2
2025-12-10 09:04:06,894 - app.api.v1.endpoints.streaming_graph - INFO - Starting stream event_generator - thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, user_id in config: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:07,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:04:08,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:04:09,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:04:09,591 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_47VoNOY8SsyVwb4fYGfdGmx2')]}
2025-12-10 09:04:10,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 09:04:12,345 - app.api.v1.endpoints.streaming_graph - INFO - Calling save_assistant_message for completion with thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e, message_id: 9f34bb90-56af-4bea-ab7c-ae73b9bc2954, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00, content_blocks count: 3
2025-12-10 09:04:12,345 - app.services.message_management_service - INFO - Saving assistant message 9f34bb90-56af-4bea-ab7c-ae73b9bc2954 to thread 210967ac-5766-459f-98d8-a82035ca14b9 with user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:04:12,349 - app.repositories.message_content_repository - INFO - Inserted 3 content blocks for message 9f34bb90-56af-4bea-ab7c-ae73b9bc2954
2025-12-10 09:04:12,350 - app.services.message_management_service - INFO - Successfully saved assistant message 9f34bb90-56af-4bea-ab7c-ae73b9bc2954 to thread 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:12,351 - app.api.v1.endpoints.streaming_graph - INFO - Successfully saved assistant completion message 16 (UUID: 9f34bb90-56af-4bea-ab7c-ae73b9bc2954) in thread 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:25,840 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:04:29,357 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:04:29,364 - app.services.agent_service - ERROR - Failed to get current state for 210967ac-5766-459f-98d8-a82035ca14b9: 
2025-12-10 09:04:55,708 - app.api.v1.endpoints.conversation - INFO - No authenticated user - returning empty checkpoints
2025-12-10 09:05:19,780 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:05:19,780 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:05:19,781 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:05:19,785 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:05:19,785 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:05:22,313 - server - INFO - Logging configuration complete
2025-12-10 09:05:22,314 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:05:22,332 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:05:22,358 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:05:22,367 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:05:22,634 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:05:22,634 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:05:22,634 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:05:45,628 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:05:57,195 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:06:29,934 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:06:29,945 - app.services.agent_service - ERROR - Failed to get current state for 210967ac-5766-459f-98d8-a82035ca14b9: 
2025-12-10 09:07:44,752 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:07:44,752 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:07:44,753 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:07:44,757 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:07:44,757 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:07:47,323 - server - INFO - Logging configuration complete
2025-12-10 09:07:47,323 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:07:47,340 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:07:47,365 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:07:47,375 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:07:47,676 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:07:47,676 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:07:47,677 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:08:00,704 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:08:00,704 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:08:00,705 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:08:00,709 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:08:00,709 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:08:03,330 - server - INFO - Logging configuration complete
2025-12-10 09:08:03,331 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:08:03,348 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:03,373 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:03,383 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:08:03,699 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:08:03,700 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:08:03,700 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:08:06,840 - server - INFO - Logging configuration complete
2025-12-10 09:08:06,840 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:08:06,857 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:06,878 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:06,886 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:08:07,196 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:08:07,196 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:08:07,197 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:08:36,163 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:08:36,163 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:08:36,164 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:08:36,167 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:08:36,167 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:08:38,730 - server - INFO - Logging configuration complete
2025-12-10 09:08:38,731 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:08:38,749 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:38,772 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:08:38,781 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:08:39,079 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:08:39,079 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:08:39,079 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:09:38,720 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:09:38,721 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:09:38,721 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:09:38,725 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:09:38,725 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:09:41,421 - server - INFO - Logging configuration complete
2025-12-10 09:09:41,421 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:09:41,438 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:41,460 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:41,471 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:09:41,773 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:09:41,774 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:09:41,774 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:09:44,583 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:09:44,583 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:09:44,584 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:09:44,586 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:09:44,587 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:09:47,139 - server - INFO - Logging configuration complete
2025-12-10 09:09:47,140 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:09:47,158 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:47,182 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:47,191 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:09:47,494 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:09:47,494 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:09:47,494 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:09:49,949 - server - INFO - Logging configuration complete
2025-12-10 09:09:49,949 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:09:49,966 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:49,988 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:09:49,997 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:09:50,273 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:09:50,273 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:09:50,273 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:10:05,007 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:10:05,007 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:10:05,008 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:10:05,011 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:10:05,011 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:10:07,435 - server - INFO - Logging configuration complete
2025-12-10 09:10:07,435 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:10:07,454 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:10:07,475 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:10:07,484 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:10:07,779 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:10:07,779 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:10:07,780 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:10:12,190 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:10:12,190 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:10:12,191 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:10:12,196 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:10:12,196 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:10:14,774 - server - INFO - Logging configuration complete
2025-12-10 09:10:14,774 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:10:14,795 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:10:14,818 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:10:14,826 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:10:15,137 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:10:15,137 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:10:15,138 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:10:27,382 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:10:31,602 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:10:31,611 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='e8f33e4f-1e0f-4c3e-bcb7-6d0b44a850c2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:10:31,612 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 9f34bb90-56af-4bea-ab7c-ae73b9bc2954: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='9f34bb90-56af-4bea-ab7c-ae73b9bc2954', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-10 09:10:31,613 - app.services.agent_service - ERROR - Failed to get current state for 210967ac-5766-459f-98d8-a82035ca14b9: 
2025-12-10 09:11:46,039 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:11:46,040 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:11:46,041 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:11:46,044 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:11:46,045 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:11:48,666 - server - INFO - Logging configuration complete
2025-12-10 09:11:48,667 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:11:48,687 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:48,709 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:48,717 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:11:49,009 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:11:49,009 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:11:49,009 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:11:49,712 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:11:49,712 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:11:49,713 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:11:49,716 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:11:49,716 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:11:52,509 - server - INFO - Logging configuration complete
2025-12-10 09:11:52,510 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:11:52,526 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:52,551 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:52,560 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:11:52,859 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:11:52,859 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:11:52,859 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:11:54,563 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:11:54,563 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:11:54,564 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:11:54,568 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:11:54,568 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:11:57,154 - server - INFO - Logging configuration complete
2025-12-10 09:11:57,154 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:11:57,174 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:57,198 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:11:57,208 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:11:57,507 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:11:57,508 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:11:57,508 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:12:00,663 - server - INFO - Logging configuration complete
2025-12-10 09:12:00,663 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:12:00,688 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:12:00,716 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:12:00,728 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:12:01,083 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:12:01,084 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:12:01,084 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:12:02,689 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:12:02,689 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:12:02,690 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:12:02,695 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:12:02,696 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:12:05,174 - server - INFO - Logging configuration complete
2025-12-10 09:12:05,174 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:12:05,193 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:12:05,218 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:12:05,228 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:12:05,532 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:12:05,533 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:12:05,533 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:12:13,614 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:12:14,999 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:12:15,007 - app.services.agent_service - ERROR - Failed to get current state for 210967ac-5766-459f-98d8-a82035ca14b9: 
2025-12-10 09:12:17,229 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:12:17,229 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:12:17,230 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a73-1fc6-6219-8006-0df02101cc00: Agent service not initialized. Call initialize_agent() first.
2025-12-10 09:13:29,117 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:13:29,118 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:13:29,119 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:13:29,124 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:13:29,125 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:13:31,775 - server - INFO - Logging configuration complete
2025-12-10 09:13:31,775 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:13:31,797 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:31,824 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:31,834 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:13:32,131 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:13:32,132 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:13:32,132 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:13:32,634 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:13:32,635 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:13:32,636 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:13:32,638 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:13:32,639 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:13:35,086 - server - INFO - Logging configuration complete
2025-12-10 09:13:35,086 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:13:35,103 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:35,124 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:35,133 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:13:35,415 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:13:35,415 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:13:35,416 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:13:54,457 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:13:54,458 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:13:54,459 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:13:54,462 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:13:54,462 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:13:56,949 - server - INFO - Logging configuration complete
2025-12-10 09:13:56,949 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:13:56,967 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:56,993 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:13:57,003 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:13:57,316 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:13:57,316 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:13:57,316 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:14:10,825 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:14:13,051 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:14:13,058 - app.services.agent_service - ERROR - Failed to get current state for 210967ac-5766-459f-98d8-a82035ca14b9: 
2025-12-10 09:14:14,759 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:14:14,759 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:14:14,760 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a73-1fc6-6219-8006-0df02101cc00: 'NoneType' object has no attribute 'graph'
2025-12-10 09:16:08,750 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:16:08,750 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:16:08,750 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a73-1fc6-6219-8006-0df02101cc00: 'NoneType' object has no attribute 'graph'
2025-12-10 09:16:48,596 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:16:48,596 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:16:48,597 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:16:48,601 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:16:48,601 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:16:56,573 - server - INFO - Logging configuration complete
2025-12-10 09:16:56,573 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:16:56,594 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:16:56,619 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:16:56,628 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:16:56,946 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:16:56,946 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:16:56,947 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:17:03,163 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:17:03,164 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:17:03,165 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:17:03,168 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:17:03,168 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:17:05,812 - server - INFO - Logging configuration complete
2025-12-10 09:17:05,813 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:17:05,833 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:17:05,858 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:17:05,869 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:17:06,169 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:17:06,169 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:17:06,170 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:17:09,367 - server - INFO - Logging configuration complete
2025-12-10 09:17:09,368 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:17:09,386 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:17:09,409 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:17:09,419 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:17:09,710 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:17:09,710 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:17:09,710 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:17:21,310 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:17:22,997 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:17:23,007 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:17:24,572 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:17:24,573 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:17:24,573 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a73-1fc6-6219-8006-0df02101cc00: 
2025-12-10 09:18:08,448 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:18:08,449 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:18:08,450 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:18:08,455 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:18:08,456 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:18:11,369 - server - INFO - Logging configuration complete
2025-12-10 09:18:11,370 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:18:11,389 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:11,412 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:11,422 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:18:11,725 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:18:11,725 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:18:11,725 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:18:21,349 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:18:21,350 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:18:21,351 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:18:21,356 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:18:21,357 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:18:23,970 - server - INFO - Logging configuration complete
2025-12-10 09:18:23,970 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:18:23,988 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:24,014 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:24,024 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:18:24,317 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:18:24,317 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:18:24,317 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:18:32,035 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:18:32,035 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:18:32,036 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:18:32,040 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:18:32,040 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:18:35,101 - server - INFO - Logging configuration complete
2025-12-10 09:18:35,102 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:18:35,120 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:35,144 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:35,154 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:18:35,505 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:18:35,505 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:18:35,505 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:18:44,227 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:18:44,228 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:18:44,229 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:18:44,231 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:18:44,231 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:18:46,633 - server - INFO - Logging configuration complete
2025-12-10 09:18:46,633 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:18:46,650 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:46,670 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:18:46,678 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:18:46,959 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:18:46,960 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:18:46,960 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:18:59,932 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:18:59,932 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:18:59,932 - app.services.agent_service - ERROR - Error getting explorer data for checkpoint 1f0d5a73-1fc6-6219-8006-0df02101cc00: 
Traceback (most recent call last):
  File "/app/app/services/agent_service.py", line 420, in get_explorer_data
    state = await self._agent.graph.aget_state(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langgraph/pregel/main.py", line 1305, in aget_state
    saved = await checkpointer.aget_tuple(config)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langgraph/checkpoint/base/__init__.py", line 272, in aget_tuple
    raise NotImplementedError
NotImplementedError
2025-12-10 09:19:30,155 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:19:30,156 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:19:30,157 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:19:30,160 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:19:30,161 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:19:32,809 - server - INFO - Logging configuration complete
2025-12-10 09:19:32,810 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:32,831 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:32,858 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:32,867 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:33,211 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:33,212 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:33,212 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:39,329 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:19:39,329 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:19:39,331 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:19:39,334 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:19:39,342 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:19:42,030 - server - INFO - Logging configuration complete
2025-12-10 09:19:42,030 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:42,049 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:42,073 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:42,083 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:42,371 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:42,372 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:42,372 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:45,037 - server - INFO - Logging configuration complete
2025-12-10 09:19:45,037 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:45,056 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:45,082 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:45,092 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:45,402 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:45,402 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:45,402 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:48,063 - server - INFO - Logging configuration complete
2025-12-10 09:19:48,063 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:48,085 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:48,116 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:48,127 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:48,464 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:48,465 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:48,465 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:51,034 - server - INFO - Logging configuration complete
2025-12-10 09:19:51,035 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:51,055 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:51,079 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:51,089 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:51,407 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:51,407 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:51,407 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:54,099 - server - INFO - Logging configuration complete
2025-12-10 09:19:54,099 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:54,117 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:54,142 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:54,151 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:54,473 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:54,473 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:54,474 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:19:57,025 - server - INFO - Logging configuration complete
2025-12-10 09:19:57,026 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:19:57,046 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:57,077 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:19:57,088 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:19:57,418 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:19:57,418 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:19:57,418 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:20:04,821 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:20:06,215 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:20:06,216 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:20:06,225 - app.services.agent_service - INFO - Successfully built explorer data with 1 steps
2025-12-10 09:20:14,859 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:20:14,859 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:20:14,860 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:20:14,864 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:20:14,864 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:20:17,449 - server - INFO - Logging configuration complete
2025-12-10 09:20:17,449 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:20:17,468 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:20:17,494 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:20:17,505 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:20:17,822 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:20:17,822 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:20:17,822 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:21:35,686 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:21:35,687 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:21:35,688 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:21:35,691 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:21:35,691 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:21:38,367 - server - INFO - Logging configuration complete
2025-12-10 09:21:38,367 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:21:38,393 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:21:38,422 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:21:38,432 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:21:38,826 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:21:38,827 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:21:38,827 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:21:40,696 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:21:43,966 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:22:04,635 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:22:18,326 - server - INFO - Shutting down Agent Backend API...
2025-12-10 09:22:18,330 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-10 09:22:18,334 - app.core.database - INFO - psycopg connection pool closed
2025-12-10 09:22:18,340 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-10 09:22:18,341 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-10 09:22:21,722 - server - INFO - Logging configuration complete
2025-12-10 09:22:21,722 - server - INFO - Starting up Agent Backend API...
2025-12-10 09:22:21,751 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:22:21,788 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-10 09:22:21,799 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-10 09:22:22,367 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-10 09:22:22,368 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-10 09:22:22,368 - server - INFO - ✅ Using LLM provider: openai
2025-12-10 09:22:36,102 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:56:40,345 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:56:41,973 - app.api.v1.endpoints.conversation - INFO - Restoring conversation 210967ac-5766-459f-98d8-a82035ca14b9
2025-12-10 09:56:52,570 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:56:52,570 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:56:52,573 - app.services.agent_service - INFO - Successfully built explorer data with 1 steps
2025-12-10 09:59:14,191 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-10 09:59:18,839 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:59:18,849 - app.api.v1.endpoints.conversation - INFO - Retrieving checkpoints for user_id: 9c306950-71da-4d00-bcc0-931b1a6c110e
2025-12-10 09:59:20,208 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:59:20,208 - app.services.agent_service - INFO - Getting explorer data for thread_id: 210967ac-5766-459f-98d8-a82035ca14b9, checkpoint_id: 1f0d5a73-1fc6-6219-8006-0df02101cc00
2025-12-10 09:59:20,211 - app.services.agent_service - INFO - Successfully built explorer data with 1 steps
