2025-12-09 08:58:58,543 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 08:58:58,592 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 08:58:58,596 - app.services.chat_thread_service - INFO - Creating new chat thread: f376a3fe-6965-41ca-a57b-448fb30b9a34 with user_id: test_user_123
2025-12-09 08:58:58,671 - app.services.chat_thread_service - INFO - Created new chat thread: f376a3fe-6965-41ca-a57b-448fb30b9a34
2025-12-09 08:58:58,714 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 08:58:58,717 - app.services.message_management_service - INFO - Generated message_id: 1765270738717869 for thread f376a3fe-6965-41ca-a57b-448fb30b9a34
2025-12-09 08:58:58,718 - app.services.message_management_service - ERROR - Error saving user message to thread f376a3fe-6965-41ca-a57b-448fb30b9a34: 'content' is an invalid keyword argument for ChatMessage
2025-12-09 08:59:41,413 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 08:59:41,447 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 08:59:41,453 - app.services.chat_thread_service - INFO - Creating new chat thread: 53dd528a-34ab-429b-a726-22af0a579834 with user_id: test_user_123
2025-12-09 08:59:41,488 - app.services.chat_thread_service - INFO - Created new chat thread: 53dd528a-34ab-429b-a726-22af0a579834
2025-12-09 08:59:41,520 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 08:59:41,522 - app.services.message_management_service - INFO - Generated message_id: 1765270781522843 for thread 53dd528a-34ab-429b-a726-22af0a579834
2025-12-09 08:59:41,523 - app.services.message_management_service - ERROR - Error saving user message to thread 53dd528a-34ab-429b-a726-22af0a579834: 'content' is an invalid keyword argument for ChatMessage
2025-12-09 09:07:29,546 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:07:29,577 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:07:29,585 - app.services.chat_thread_service - INFO - Creating new chat thread: ad12088a-cf89-4d9a-8261-3caed44ccd71 with user_id: test_user_123
2025-12-09 09:07:29,618 - app.services.chat_thread_service - INFO - Created new chat thread: ad12088a-cf89-4d9a-8261-3caed44ccd71
2025-12-09 09:07:29,646 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:07:29,649 - app.services.message_management_service - INFO - Generated message_id: 1765271249649367 for thread ad12088a-cf89-4d9a-8261-3caed44ccd71
2025-12-09 09:07:29,649 - app.services.message_management_service - INFO - Saving user message 1765271249649367 to thread ad12088a-cf89-4d9a-8261-3caed44ccd71 with user_id: test_user_123
2025-12-09 09:07:29,653 - app.repositories.message_content_repository - ERROR - Error adding content blocks for message 1765271249649367: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271249649367 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271249649367, 'text_1765271249649367', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 7, 29, 650002))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:07:29,653 - app.services.message_management_service - ERROR - Failed to save content blocks for message 1765271249649367: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271249649367 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271249649367, 'text_1765271249649367', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 7, 29, 650002))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:07:29,654 - app.services.message_management_service - ERROR - Error saving user message to thread ad12088a-cf89-4d9a-8261-3caed44ccd71: Failed to save content blocks for user message: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271249649367 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271249649367, 'text_1765271249649367', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 7, 29, 650002))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:08:38,210 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:08:38,245 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:08:38,250 - app.services.chat_thread_service - INFO - Creating new chat thread: 8cb61e1e-60c2-4838-95f6-f7d6657d86da with user_id: test_user_123
2025-12-09 09:08:38,281 - app.services.chat_thread_service - INFO - Created new chat thread: 8cb61e1e-60c2-4838-95f6-f7d6657d86da
2025-12-09 09:08:38,320 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:08:38,323 - app.services.message_management_service - INFO - Generated message_id: 1765271318323572 for thread 8cb61e1e-60c2-4838-95f6-f7d6657d86da
2025-12-09 09:08:38,323 - app.services.message_management_service - INFO - Saving user message 1765271318323572 to thread 8cb61e1e-60c2-4838-95f6-f7d6657d86da with user_id: test_user_123
2025-12-09 09:08:38,326 - app.repositories.message_content_repository - ERROR - Error adding content blocks for message 1765271318323572: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271318323572 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271318323572, 'text_1765271318323572', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 8, 38, 324250))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:08:38,327 - app.services.message_management_service - ERROR - Failed to save content blocks for message 1765271318323572: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271318323572 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271318323572, 'text_1765271318323572', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 8, 38, 324250))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:08:38,327 - app.services.message_management_service - ERROR - Error saving user message to thread 8cb61e1e-60c2-4838-95f6-f7d6657d86da: Failed to save content blocks for user message: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765271318323572 (value out of int32 range)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::INTEGER, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1765271318323572, 'text_1765271318323572', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 8, 38, 324250))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:25,484 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:33:25,531 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:33:25,536 - app.services.chat_thread_service - INFO - Creating new chat thread: 3664ffef-6a28-478d-9bd8-38c68b4270f5 with user_id: test_user_123
2025-12-09 09:33:25,566 - app.services.chat_thread_service - INFO - Created new chat thread: 3664ffef-6a28-478d-9bd8-38c68b4270f5
2025-12-09 09:33:25,595 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:33:25,598 - app.services.message_management_service - INFO - Generated message_id: 1765272805598384 for thread 3664ffef-6a28-478d-9bd8-38c68b4270f5
2025-12-09 09:33:25,599 - app.services.message_management_service - INFO - Saving user message 1765272805598384 to thread 3664ffef-6a28-478d-9bd8-38c68b4270f5 with user_id: test_user_123
2025-12-09 09:33:25,603 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272805598384 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272805598384, '3664ffef-6a28-478d-9bd8-38c68b4270f5', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 25, 598987))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:25,603 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272805598384 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272805598384, '3664ffef-6a28-478d-9bd8-38c68b4270f5', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 25, 598987))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:25,603 - app.services.message_management_service - ERROR - Error saving user message to thread 3664ffef-6a28-478d-9bd8-38c68b4270f5: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272805598384 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272805598384, '3664ffef-6a28-478d-9bd8-38c68b4270f5', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 25, 598987))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:36,467 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:33:36,500 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:33:36,505 - app.services.chat_thread_service - INFO - Creating new chat thread: 712f313c-a9ef-47c1-8e63-6a14ae881985 with user_id: test_user_123
2025-12-09 09:33:36,536 - app.services.chat_thread_service - INFO - Created new chat thread: 712f313c-a9ef-47c1-8e63-6a14ae881985
2025-12-09 09:33:36,564 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:33:36,567 - app.services.message_management_service - INFO - Generated message_id: 1765272816567291 for thread 712f313c-a9ef-47c1-8e63-6a14ae881985
2025-12-09 09:33:36,567 - app.services.message_management_service - INFO - Saving user message 1765272816567291 to thread 712f313c-a9ef-47c1-8e63-6a14ae881985 with user_id: test_user_123
2025-12-09 09:33:36,569 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272816567291 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272816567291, '712f313c-a9ef-47c1-8e63-6a14ae881985', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 36, 567578))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:36,570 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272816567291 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272816567291, '712f313c-a9ef-47c1-8e63-6a14ae881985', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 36, 567578))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:33:36,570 - app.services.message_management_service - ERROR - Error saving user message to thread 712f313c-a9ef-47c1-8e63-6a14ae881985: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272816567291 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272816567291, '712f313c-a9ef-47c1-8e63-6a14ae881985', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 33, 36, 567578))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:34:31,824 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:34:31,861 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:34:31,866 - app.services.chat_thread_service - INFO - Creating new chat thread: f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba with user_id: test_user_123
2025-12-09 09:34:31,898 - app.services.chat_thread_service - INFO - Created new chat thread: f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba
2025-12-09 09:34:31,929 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:34:31,933 - app.services.message_management_service - INFO - Generated message_id: 1765272871933190 for thread f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba
2025-12-09 09:34:31,933 - app.services.message_management_service - INFO - Saving user message 1765272871933190 to thread f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba with user_id: test_user_123
2025-12-09 09:34:31,935 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272871933190 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272871933190, 'f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 34, 31, 933507, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:34:31,936 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272871933190 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272871933190, 'f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 34, 31, 933507, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:34:31,936 - app.services.message_management_service - ERROR - Error saving user message to thread f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1765272871933190 (value out of int32 range)
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id, timestamp) VALUES ($1::INTEGER, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE) RETURNING chat_messages.id]
[parameters: (1765272871933190, 'f4e9ee63-dc9e-457d-b1d7-19cb6e08d7ba', 'USER', 'STRUCTURED', None, None, 'test_user_123', datetime.datetime(2025, 12, 9, 9, 34, 31, 933507, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:37:49,476 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:37:49,511 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:37:49,518 - app.services.chat_thread_service - INFO - Creating new chat thread: 9d85dbbc-7a97-47d3-bc63-344757eb6e9e with user_id: test_user_123
2025-12-09 09:37:49,551 - app.services.chat_thread_service - INFO - Created new chat thread: 9d85dbbc-7a97-47d3-bc63-344757eb6e9e
2025-12-09 09:37:49,585 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:37:49,587 - app.services.message_management_service - INFO - Generated message_id: 96730e12-3bef-4655-acba-8d0ec8dee573 for thread 9d85dbbc-7a97-47d3-bc63-344757eb6e9e
2025-12-09 09:37:49,587 - app.services.message_management_service - INFO - Saving user message 96730e12-3bef-4655-acba-8d0ec8dee573 to thread 9d85dbbc-7a97-47d3-bc63-344757eb6e9e with user_id: test_user_123
2025-12-09 09:37:49,591 - app.repositories.base_repository - ERROR - Error creating ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "message_id" is of type integer but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: ('96730e12-3bef-4655-acba-8d0ec8dee573', '9d85dbbc-7a97-47d3-bc63-344757eb6e9e', 'USER', 'STRUCTURED', None, None, 'test_user_123')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:37:49,592 - app.services.message_management_service - ERROR - Failed to save message: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "message_id" is of type integer but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: ('96730e12-3bef-4655-acba-8d0ec8dee573', '9d85dbbc-7a97-47d3-bc63-344757eb6e9e', 'USER', 'STRUCTURED', None, None, 'test_user_123')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:37:49,592 - app.services.message_management_service - ERROR - Error saving user message to thread 9d85dbbc-7a97-47d3-bc63-344757eb6e9e: Failed to create ChatMessage: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: column "message_id" is of type integer but expression is of type character varying
HINT:  You will need to rewrite or cast the expression.
[SQL: INSERT INTO chat_messages (message_id, thread_id, sender, message_type, message_status, checkpoint_id, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::sender_enum, $4::message_type_enum, $5::message_status_enum, $6::VARCHAR, $7::VARCHAR) RETURNING chat_messages.id, chat_messages.timestamp]
[parameters: ('96730e12-3bef-4655-acba-8d0ec8dee573', '9d85dbbc-7a97-47d3-bc63-344757eb6e9e', 'USER', 'STRUCTURED', None, None, 'test_user_123')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:38:26,704 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:38:26,742 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:38:26,748 - app.services.chat_thread_service - INFO - Creating new chat thread: 95549583-c633-479d-bf6d-94d8e35307ce with user_id: test_user_123
2025-12-09 09:38:26,776 - app.services.chat_thread_service - INFO - Created new chat thread: 95549583-c633-479d-bf6d-94d8e35307ce
2025-12-09 09:38:26,806 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:38:26,810 - app.services.message_management_service - INFO - Generated message_id: 671a8192-ddb2-48c6-9186-8eadd8cea96d for thread 95549583-c633-479d-bf6d-94d8e35307ce
2025-12-09 09:38:26,811 - app.services.message_management_service - INFO - Saving user message 671a8192-ddb2-48c6-9186-8eadd8cea96d to thread 95549583-c633-479d-bf6d-94d8e35307ce with user_id: test_user_123
2025-12-09 09:38:26,821 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 1
2025-12-09 09:38:26,824 - app.repositories.message_content_repository - ERROR - Error retrieving blocks for message 671a8192-ddb2-48c6-9186-8eadd8cea96d: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: integer = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT message_content.id, message_content.chat_message_id, message_content.block_id, message_content.type, message_content.needs_approval, message_content.message_status, message_content.data, message_content.created_at 
FROM message_content 
WHERE message_content.chat_message_id = $1::VARCHAR ORDER BY message_content.created_at ASC]
[parameters: ('671a8192-ddb2-48c6-9186-8eadd8cea96d',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:38:26,824 - app.services.message_management_service - ERROR - Error saving user message to thread 95549583-c633-479d-bf6d-94d8e35307ce: Failed to retrieve content blocks: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: integer = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT message_content.id, message_content.chat_message_id, message_content.block_id, message_content.type, message_content.needs_approval, message_content.message_status, message_content.data, message_content.created_at 
FROM message_content 
WHERE message_content.chat_message_id = $1::VARCHAR ORDER BY message_content.created_at ASC]
[parameters: ('671a8192-ddb2-48c6-9186-8eadd8cea96d',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:40:14,588 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:40:14,624 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:40:14,631 - app.services.chat_thread_service - INFO - Creating new chat thread: 07854edc-622f-46d4-bc8a-777e4e8971af with user_id: test_user_123
2025-12-09 09:40:14,661 - app.services.chat_thread_service - INFO - Created new chat thread: 07854edc-622f-46d4-bc8a-777e4e8971af
2025-12-09 09:40:14,692 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:40:14,695 - app.services.message_management_service - INFO - Generated message_id: 3668198f-7e6b-4e99-9d32-1920ba970b89 for thread 07854edc-622f-46d4-bc8a-777e4e8971af
2025-12-09 09:40:14,695 - app.services.message_management_service - INFO - Saving user message 3668198f-7e6b-4e99-9d32-1920ba970b89 to thread 07854edc-622f-46d4-bc8a-777e4e8971af with user_id: test_user_123
2025-12-09 09:40:14,701 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 2
2025-12-09 09:40:14,704 - app.services.message_management_service - INFO - Successfully saved user message 3668198f-7e6b-4e99-9d32-1920ba970b89 to thread 07854edc-622f-46d4-bc8a-777e4e8971af
2025-12-09 09:40:14,705 - app.services.message_management_service - INFO - Saving assistant message 3467a901-eb1b-43f4-ac93-e056439bc503 to thread 07854edc-622f-46d4-bc8a-777e4e8971af with user_id: test_user_123
2025-12-09 09:40:14,709 - app.repositories.message_content_repository - INFO - Inserted 2 content blocks for message 3
2025-12-09 09:40:14,710 - app.services.message_management_service - INFO - Successfully saved assistant message 3467a901-eb1b-43f4-ac93-e056439bc503 to thread 07854edc-622f-46d4-bc8a-777e4e8971af
2025-12-09 09:40:14,715 - app.repositories.message_content_repository - ERROR - Error retrieving blocks for message 3668198f-7e6b-4e99-9d32-1920ba970b89: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: integer = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT message_content.id, message_content.chat_message_id, message_content.block_id, message_content.type, message_content.needs_approval, message_content.message_status, message_content.data, message_content.created_at 
FROM message_content 
WHERE message_content.chat_message_id = $1::VARCHAR ORDER BY message_content.created_at ASC]
[parameters: ('3668198f-7e6b-4e99-9d32-1920ba970b89',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:50:36,191 - server - INFO - Logging configuration complete
2025-12-09 09:50:36,191 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:50:36,223 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:50:36,251 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:50:36,323 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:50:36,757 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:50:36,758 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:50:36,758 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:51:56,669 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:51:56,705 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:51:56,710 - app.services.chat_thread_service - INFO - Creating new chat thread: 7dd9cacb-446e-4869-ae45-46a510ff705c with user_id: test_user_123
2025-12-09 09:51:56,746 - app.repositories.base_repository - ERROR - Error creating ChatThread: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "chat_threads" does not exist
[SQL: INSERT INTO chat_threads (thread_id, title, user_id, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE) RETURNING chat_threads.id]
[parameters: ('7dd9cacb-446e-4869-ae45-46a510ff705c', 'Test Chat Thread', 'test_user_123', datetime.datetime(2025, 12, 9, 9, 51, 56, 705644), datetime.datetime(2025, 12, 9, 9, 51, 56, 705646))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:51:56,747 - app.services.chat_thread_service - ERROR - Error creating chat thread: Failed to create ChatThread: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "chat_threads" does not exist
[SQL: INSERT INTO chat_threads (thread_id, title, user_id, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE) RETURNING chat_threads.id]
[parameters: ('7dd9cacb-446e-4869-ae45-46a510ff705c', 'Test Chat Thread', 'test_user_123', datetime.datetime(2025, 12, 9, 9, 51, 56, 705644), datetime.datetime(2025, 12, 9, 9, 51, 56, 705646))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-09 09:53:35,041 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:53:35,041 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:53:35,043 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:53:35,046 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:53:35,046 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:53:37,449 - server - INFO - Logging configuration complete
2025-12-09 09:53:37,450 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:53:37,469 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:53:37,497 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:53:37,506 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:53:37,934 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:53:37,935 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:53:37,935 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:53:52,767 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:53:52,767 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:53:52,768 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:53:52,771 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:53:52,772 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:53:55,317 - server - INFO - Logging configuration complete
2025-12-09 09:53:55,318 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:53:55,338 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:53:55,362 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:53:55,372 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:53:55,791 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:53:55,791 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:53:55,791 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:54:33,574 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:54:33,574 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:54:33,576 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:54:33,580 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:54:33,580 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:54:36,026 - server - INFO - Logging configuration complete
2025-12-09 09:54:36,026 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:54:36,046 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:54:36,070 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:54:36,082 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:54:36,504 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:54:36,504 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:54:36,504 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:56:29,144 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:56:29,144 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:56:29,145 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:56:29,149 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:56:29,149 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:56:31,744 - server - INFO - Logging configuration complete
2025-12-09 09:56:31,745 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:56:31,764 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:56:31,788 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:56:31,798 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:56:32,226 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:56:32,227 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:56:32,227 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:56:48,563 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:56:48,563 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:56:48,564 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:56:48,569 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:56:48,569 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:56:51,034 - server - INFO - Logging configuration complete
2025-12-09 09:56:51,035 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:56:51,056 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:56:51,083 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:56:51,092 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:56:51,556 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:56:51,556 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:56:51,557 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:57:03,384 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:57:03,385 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:57:03,386 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:57:03,388 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:57:03,389 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:57:05,958 - server - INFO - Logging configuration complete
2025-12-09 09:57:05,958 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:57:05,981 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:57:06,008 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:57:06,019 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:57:06,491 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:57:06,491 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:57:06,492 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:57:24,530 - server - INFO - Shutting down Agent Backend API...
2025-12-09 09:57:24,530 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 09:57:24,531 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 09:57:24,534 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 09:57:24,534 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 09:57:26,999 - server - INFO - Logging configuration complete
2025-12-09 09:57:27,000 - server - INFO - Starting up Agent Backend API...
2025-12-09 09:57:27,019 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:57:27,045 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 09:57:27,054 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 09:57:27,478 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:57:27,478 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 09:57:27,479 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 09:57:57,506 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:57:57,546 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:57:57,551 - app.services.chat_thread_service - INFO - Creating new chat thread: 66c5d45f-fce4-44d7-97fa-35b8d9615a6a with user_id: test_user_123
2025-12-09 09:57:57,577 - app.services.chat_thread_service - INFO - Created new chat thread: 66c5d45f-fce4-44d7-97fa-35b8d9615a6a
2025-12-09 09:57:57,606 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:57:57,608 - app.services.message_management_service - INFO - Generated message_id: 0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5 for thread 66c5d45f-fce4-44d7-97fa-35b8d9615a6a
2025-12-09 09:57:57,608 - app.services.message_management_service - INFO - Saving user message 0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5 to thread 66c5d45f-fce4-44d7-97fa-35b8d9615a6a with user_id: test_user_123
2025-12-09 09:57:57,613 - app.repositories.message_content_repository - ERROR - Error adding content blocks for message 1: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1, 'text_0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 57, 57, 612025))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:57:57,614 - app.services.message_management_service - ERROR - Failed to save content blocks for message 1: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1, 'text_0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 57, 57, 612025))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:57:57,614 - app.services.message_management_service - ERROR - Failed to rollback message 0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5: 'MessagesRepository' object has no attribute 'delete_message_by_id'
2025-12-09 09:57:57,614 - app.services.message_management_service - ERROR - Error saving user message to thread 66c5d45f-fce4-44d7-97fa-35b8d9615a6a: Failed to save content blocks for user message: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 1 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (1, 'text_0e9e4ec8-77a8-4f85-9140-fe5280ee6fb5', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 57, 57, 612025))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:58:15,145 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:58:15,183 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:58:15,188 - app.services.chat_thread_service - INFO - Creating new chat thread: 9666cfab-934f-485e-ba09-37d9b673c604 with user_id: test_user_123
2025-12-09 09:58:15,215 - app.services.chat_thread_service - INFO - Created new chat thread: 9666cfab-934f-485e-ba09-37d9b673c604
2025-12-09 09:58:15,243 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:58:15,246 - app.services.message_management_service - INFO - Generated message_id: 20a685e7-c18e-43a5-bdaf-1d510032146d for thread 9666cfab-934f-485e-ba09-37d9b673c604
2025-12-09 09:58:15,246 - app.services.message_management_service - INFO - Saving user message 20a685e7-c18e-43a5-bdaf-1d510032146d to thread 9666cfab-934f-485e-ba09-37d9b673c604 with user_id: test_user_123
2025-12-09 09:58:15,251 - app.repositories.message_content_repository - ERROR - Error adding content blocks for message 2: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 2 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (2, 'text_20a685e7-c18e-43a5-bdaf-1d510032146d', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 58, 15, 249714))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:58:15,251 - app.services.message_management_service - ERROR - Failed to save content blocks for message 2: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 2 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (2, 'text_20a685e7-c18e-43a5-bdaf-1d510032146d', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 58, 15, 249714))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:58:15,252 - app.services.message_management_service - ERROR - Failed to rollback message 20a685e7-c18e-43a5-bdaf-1d510032146d: 'MessagesRepository' object has no attribute 'delete_message_by_id'
2025-12-09 09:58:15,252 - app.services.message_management_service - ERROR - Error saving user message to thread 9666cfab-934f-485e-ba09-37d9b673c604: Failed to save content blocks for user message: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 2 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (2, 'text_20a685e7-c18e-43a5-bdaf-1d510032146d', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 58, 15, 249714))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:59:20,919 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 09:59:20,957 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 09:59:20,964 - app.services.chat_thread_service - INFO - Creating new chat thread: 3a5b0bf1-f766-4d52-b780-2920c64bcad4 with user_id: test_user_123
2025-12-09 09:59:20,991 - app.services.chat_thread_service - INFO - Created new chat thread: 3a5b0bf1-f766-4d52-b780-2920c64bcad4
2025-12-09 09:59:21,018 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 09:59:21,020 - app.services.message_management_service - INFO - Generated message_id: 16a5e4f6-05b1-4d1d-a4b5-cee249a9d701 for thread 3a5b0bf1-f766-4d52-b780-2920c64bcad4
2025-12-09 09:59:21,021 - app.services.message_management_service - INFO - Saving user message 16a5e4f6-05b1-4d1d-a4b5-cee249a9d701 to thread 3a5b0bf1-f766-4d52-b780-2920c64bcad4 with user_id: test_user_123
2025-12-09 09:59:21,025 - app.repositories.message_content_repository - ERROR - Error adding content blocks for message 3: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 3 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (3, 'text_16a5e4f6-05b1-4d1d-a4b5-cee249a9d701', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 59, 21, 23416))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:59:21,025 - app.services.message_management_service - ERROR - Failed to save content blocks for message 3: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 3 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (3, 'text_16a5e4f6-05b1-4d1d-a4b5-cee249a9d701', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 59, 21, 23416))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 09:59:21,025 - app.services.message_management_service - ERROR - Failed to rollback message 16a5e4f6-05b1-4d1d-a4b5-cee249a9d701: 'MessagesRepository' object has no attribute 'delete_message_by_id'
2025-12-09 09:59:21,025 - app.services.message_management_service - ERROR - Error saving user message to thread 3a5b0bf1-f766-4d52-b780-2920c64bcad4: Failed to save content blocks for user message: Failed to add content blocks: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 3 (expected str, got int)
[SQL: INSERT INTO message_content (chat_message_id, block_id, type, needs_approval, message_status, data, created_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::message_status_enum, $6::JSONB, $7::TIMESTAMP WITH TIME ZONE) RETURNING message_content.id]
[parameters: (3, 'text_16a5e4f6-05b1-4d1d-a4b5-cee249a9d701', 'text', False, None, '{"text": "Hello! Can you help me with data analysis?"}', datetime.datetime(2025, 12, 9, 9, 59, 21, 23416))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-12-09 10:00:07,725 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:00:07,725 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:00:07,726 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:00:07,730 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:00:07,730 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 10:00:10,380 - server - INFO - Logging configuration complete
2025-12-09 10:00:10,380 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:00:10,400 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:10,431 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:10,441 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:00:10,881 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:00:10,882 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:00:10,882 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:00:13,470 - server - INFO - Logging configuration complete
2025-12-09 10:00:13,471 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:00:13,488 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:13,512 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:13,522 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:00:13,912 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:00:13,912 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:00:13,912 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:00:36,966 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:00:36,966 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:00:36,967 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:00:36,971 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:00:36,971 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 10:00:39,566 - server - INFO - Logging configuration complete
2025-12-09 10:00:39,566 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:00:39,584 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:39,606 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:39,615 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:00:40,047 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:00:40,047 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:00:40,048 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:00:42,600 - server - INFO - Logging configuration complete
2025-12-09 10:00:42,600 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:00:42,620 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:42,644 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:00:42,654 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:00:43,052 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:00:43,052 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:00:43,053 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:00:47,162 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:00:47,163 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:00:47,164 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:00:47,167 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:00:47,167 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 10:01:06,362 - server - INFO - Logging configuration complete
2025-12-09 10:01:06,363 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:01:06,383 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:01:06,408 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:01:06,417 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:01:06,799 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:01:06,799 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:01:06,799 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:01:14,069 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 10:01:14,105 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:01:14,112 - app.services.chat_thread_service - INFO - Creating new chat thread: 205798eb-ae72-4738-ac99-d6b440c31356 with user_id: test_user_123
2025-12-09 10:01:14,140 - app.services.chat_thread_service - INFO - Created new chat thread: 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:14,165 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 10:01:14,168 - app.services.message_management_service - INFO - Generated message_id: bbfadff1-c3e9-4a83-a114-dd2f73440669 for thread 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:14,168 - app.services.message_management_service - INFO - Saving user message bbfadff1-c3e9-4a83-a114-dd2f73440669 to thread 205798eb-ae72-4738-ac99-d6b440c31356 with user_id: test_user_123
2025-12-09 10:01:14,174 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message bbfadff1-c3e9-4a83-a114-dd2f73440669
2025-12-09 10:01:14,177 - app.services.message_management_service - INFO - Successfully saved user message bbfadff1-c3e9-4a83-a114-dd2f73440669 to thread 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:14,177 - app.services.message_management_service - INFO - Saving assistant message 302a48e6-4c10-432f-b7b4-71a9fe95fcc9 to thread 205798eb-ae72-4738-ac99-d6b440c31356 with user_id: test_user_123
2025-12-09 10:01:14,180 - app.repositories.message_content_repository - INFO - Inserted 2 content blocks for message 302a48e6-4c10-432f-b7b4-71a9fe95fcc9
2025-12-09 10:01:14,181 - app.services.message_management_service - INFO - Successfully saved assistant message 302a48e6-4c10-432f-b7b4-71a9fe95fcc9 to thread 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:14,193 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message bbfadff1-c3e9-4a83-a114-dd2f73440669: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='bbfadff1-c3e9-4a83-a114-dd2f73440669', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:14,194 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 302a48e6-4c10-432f-b7b4-71a9fe95fcc9: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='302a48e6-4c10-432f-b7b4-71a9fe95fcc9', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:14,195 - app.services.chat_thread_service - INFO - Deleting thread 205798eb-ae72-4738-ac99-d6b440c31356 (delete_checkpoint=True)
2025-12-09 10:01:14,197 - app.services.chat_thread_service - INFO - Deleted chat thread: 205798eb-ae72-4738-ac99-d6b440c31356 (messages and content blocks deleted via cascade)
2025-12-09 10:01:14,198 - app.services.agent_service - INFO - Successfully deleted thread 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:14,198 - app.services.chat_thread_service - INFO - Deleted checkpoint for thread 205798eb-ae72-4738-ac99-d6b440c31356
2025-12-09 10:01:28,099 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 10:01:28,141 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:01:28,147 - app.services.chat_thread_service - INFO - Creating new chat thread: 792b1e99-fdd2-4d15-8e73-7f01461a31fc with user_id: test_user_123
2025-12-09 10:01:28,176 - app.services.chat_thread_service - INFO - Created new chat thread: 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:28,202 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 10:01:28,204 - app.services.message_management_service - INFO - Generated message_id: 3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321 for thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:28,205 - app.services.message_management_service - INFO - Saving user message 3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321 to thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc with user_id: test_user_123
2025-12-09 10:01:28,210 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321
2025-12-09 10:01:28,215 - app.services.message_management_service - INFO - Successfully saved user message 3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321 to thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:28,215 - app.services.message_management_service - INFO - Saving assistant message 66e41e38-6014-42c9-874c-1fd8ad055280 to thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc with user_id: test_user_123
2025-12-09 10:01:28,219 - app.repositories.message_content_repository - INFO - Inserted 2 content blocks for message 66e41e38-6014-42c9-874c-1fd8ad055280
2025-12-09 10:01:28,220 - app.services.message_management_service - INFO - Successfully saved assistant message 66e41e38-6014-42c9-874c-1fd8ad055280 to thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:28,233 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='3ea2d7eb-b617-4ce6-a2a8-b0b4ae31c321', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:28,234 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 66e41e38-6014-42c9-874c-1fd8ad055280: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='66e41e38-6014-42c9-874c-1fd8ad055280', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:28,235 - app.services.chat_thread_service - INFO - Deleting thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc (delete_checkpoint=True)
2025-12-09 10:01:28,237 - app.services.chat_thread_service - INFO - Deleted chat thread: 792b1e99-fdd2-4d15-8e73-7f01461a31fc (messages and content blocks deleted via cascade)
2025-12-09 10:01:28,238 - app.services.agent_service - INFO - Successfully deleted thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:28,238 - app.services.chat_thread_service - INFO - Deleted checkpoint for thread 792b1e99-fdd2-4d15-8e73-7f01461a31fc
2025-12-09 10:01:37,138 - app.agents.data_exploration_agent - WARNING - Checkpointer not initialized, falling back to MemorySaver
2025-12-09 10:01:37,170 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:01:37,175 - app.services.chat_thread_service - INFO - Creating new chat thread: 3faac070-2bda-4493-836b-3d38780176bd with user_id: test_user_123
2025-12-09 10:01:37,202 - app.services.chat_thread_service - INFO - Created new chat thread: 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:01:37,235 - app.services.chat_thread_service - INFO - Thread verification - exists: True
2025-12-09 10:01:37,238 - app.services.message_management_service - INFO - Generated message_id: 66ae8468-85e1-43eb-8db4-50d18dac3fee for thread 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:01:37,238 - app.services.message_management_service - INFO - Saving user message 66ae8468-85e1-43eb-8db4-50d18dac3fee to thread 3faac070-2bda-4493-836b-3d38780176bd with user_id: test_user_123
2025-12-09 10:01:37,244 - app.repositories.message_content_repository - INFO - Inserted 1 content blocks for message 66ae8468-85e1-43eb-8db4-50d18dac3fee
2025-12-09 10:01:37,248 - app.services.message_management_service - INFO - Successfully saved user message 66ae8468-85e1-43eb-8db4-50d18dac3fee to thread 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:01:37,248 - app.services.message_management_service - INFO - Saving assistant message e5d5ed44-8706-4081-a977-d6295470b344 to thread 3faac070-2bda-4493-836b-3d38780176bd with user_id: test_user_123
2025-12-09 10:01:37,251 - app.repositories.message_content_repository - INFO - Inserted 2 content blocks for message e5d5ed44-8706-4081-a977-d6295470b344
2025-12-09 10:01:37,252 - app.services.message_management_service - INFO - Successfully saved assistant message e5d5ed44-8706-4081-a977-d6295470b344 to thread 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:01:37,265 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message 66ae8468-85e1-43eb-8db4-50d18dac3fee: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='66ae8468-85e1-43eb-8db4-50d18dac3fee', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:37,266 - app.services.chat_thread_service - WARNING - Failed to load content blocks for message e5d5ed44-8706-4081-a977-d6295470b344: 1 validation error for ChatMessageSchema
message_id
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='e5d5ed44-8706-4081-a977-d6295470b344', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-12-09 10:01:37,267 - app.services.chat_thread_service - INFO - Deleting thread 3faac070-2bda-4493-836b-3d38780176bd (delete_checkpoint=True)
2025-12-09 10:01:37,269 - app.services.chat_thread_service - INFO - Deleted chat thread: 3faac070-2bda-4493-836b-3d38780176bd (messages and content blocks deleted via cascade)
2025-12-09 10:01:37,269 - app.services.agent_service - INFO - Successfully deleted thread 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:01:37,270 - app.services.chat_thread_service - INFO - Deleted checkpoint for thread 3faac070-2bda-4493-836b-3d38780176bd
2025-12-09 10:03:08,064 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:03:08,065 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:03:08,066 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:03:08,069 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:03:08,069 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 10:03:10,566 - server - INFO - Logging configuration complete
2025-12-09 10:03:10,566 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:03:10,584 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:03:10,607 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:03:10,617 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:03:11,058 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:03:11,058 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:03:11,058 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:03:12,662 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:03:12,663 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:03:12,664 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:03:12,667 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:03:12,668 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 10:03:15,127 - server - INFO - Logging configuration complete
2025-12-09 10:03:15,128 - server - INFO - Starting up Agent Backend API...
2025-12-09 10:03:15,148 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:03:15,171 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 10:03:15,180 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 10:03:15,608 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 10:03:15,608 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 10:03:15,608 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 10:03:35,709 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 10:03:37,397 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 10:03:39,839 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 10:03:39,865 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_iTvxaIJFbWR4nc6vNszR4QgT')]}
2025-12-09 10:03:44,003 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 10:03:44,015 - app.services.agent_service - INFO - Agent executed successfully for thread session-_R_4lrlb_
2025-12-09 10:58:44,923 - server - INFO - Shutting down Agent Backend API...
2025-12-09 10:58:44,924 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 10:58:44,925 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 10:58:44,928 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 10:58:44,929 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 14:06:58,122 - server - INFO - Logging configuration complete
2025-12-09 14:06:58,122 - server - INFO - Starting up Agent Backend API...
2025-12-09 14:06:58,312 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:06:58,354 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:06:58,369 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 14:06:58,808 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 14:06:58,809 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 14:06:58,809 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 14:08:45,048 - server - INFO - Shutting down Agent Backend API...
2025-12-09 14:08:45,050 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 14:08:45,052 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 14:08:45,053 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 14:08:45,056 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 14:09:01,526 - server - INFO - Logging configuration complete
2025-12-09 14:09:01,527 - server - INFO - Starting up Agent Backend API...
2025-12-09 14:09:01,635 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:09:01,660 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:09:01,672 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 14:09:02,019 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 14:09:02,020 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 14:09:02,020 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 14:11:18,979 - server - INFO - Logging configuration complete
2025-12-09 14:11:18,981 - server - INFO - Starting up Agent Backend API...
2025-12-09 14:11:22,953 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:22,953 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:23,036 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:27,818 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:27,818 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:27,967 - psycopg.pool - WARNING - error connecting in 'pool-1': [Errno -2] Name or service not known
2025-12-09 14:11:49,084 - server - INFO - Logging configuration complete
2025-12-09 14:11:49,084 - server - INFO - Starting up Agent Backend API...
2025-12-09 14:11:49,214 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:11:49,244 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 14:11:49,257 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 14:11:49,599 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 14:11:49,599 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 14:11:49,600 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 14:13:36,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 14:13:40,457 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 14:13:40,465 - app.services.agent_service - INFO - Agent executed successfully for thread session-_R_4lrlb_
2025-12-09 15:16:37,097 - server - INFO - Shutting down Agent Backend API...
2025-12-09 15:16:37,097 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 15:16:37,098 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 15:16:37,102 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 15:16:37,102 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 15:16:40,619 - server - INFO - Logging configuration complete
2025-12-09 15:16:40,619 - server - INFO - Starting up Agent Backend API...
2025-12-09 15:16:40,750 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 15:16:40,776 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 15:16:40,786 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 15:16:41,232 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 15:16:41,232 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 15:16:41,232 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:02:39,542 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:02:39,545 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:02:39,551 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:02:39,573 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:02:39,575 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:02:43,891 - server - INFO - Logging configuration complete
2025-12-09 16:02:43,891 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:02:44,036 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:02:44,070 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:02:44,083 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:02:44,485 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:02:44,485 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:02:44,485 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:02:50,740 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:02:53,939 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:02:55,697 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:02:55,726 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_ZoxSwYeazJskfqmjBOm0wGju')]}
2025-12-09 16:03:00,081 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:03:00,203 - app.services.agent_service - INFO - Agent executed successfully for thread session-_r_0_
2025-12-09 16:17:58,798 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:17:58,799 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:17:58,800 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:17:58,802 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:17:58,802 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:23:56,714 - server - INFO - Logging configuration complete
2025-12-09 16:23:56,714 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:23:56,850 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:23:56,887 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:23:56,903 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:23:57,351 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:23:57,351 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:23:57,351 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:47:10,512 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:47:10,513 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:47:10,514 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:47:10,519 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:47:10,519 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:47:13,999 - server - INFO - Logging configuration complete
2025-12-09 16:47:13,999 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:47:14,169 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:47:14,195 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:47:14,206 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:47:14,589 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:47:14,589 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:47:14,589 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:47:41,655 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:47:41,655 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:47:41,656 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:47:41,659 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:47:41,660 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:47:43,935 - server - INFO - Logging configuration complete
2025-12-09 16:47:43,935 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:47:44,041 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:47:44,069 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:47:44,082 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:47:44,408 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:47:44,408 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:47:44,409 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:48:11,166 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:48:11,166 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:48:11,167 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:48:11,170 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:48:11,170 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:48:13,503 - server - INFO - Logging configuration complete
2025-12-09 16:48:13,503 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:48:13,622 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:48:13,646 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:48:13,675 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:48:13,965 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:48:13,965 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:48:13,965 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:49:01,974 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:49:01,974 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:49:01,975 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:49:01,978 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:49:01,978 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:49:04,444 - server - INFO - Logging configuration complete
2025-12-09 16:49:04,445 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:49:04,552 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:49:04,575 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:49:04,584 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:49:04,878 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:49:04,878 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:49:04,878 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:49:07,181 - server - INFO - Logging configuration complete
2025-12-09 16:49:07,181 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:49:07,286 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:49:07,308 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:49:07,317 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:49:07,596 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:49:07,596 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:49:07,596 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:50:01,619 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:50:01,619 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:50:01,620 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:50:01,624 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:50:01,624 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:50:05,179 - server - INFO - Logging configuration complete
2025-12-09 16:50:05,180 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:50:05,326 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:05,351 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:05,362 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:50:05,780 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:50:05,781 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:50:05,781 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:50:08,163 - server - INFO - Logging configuration complete
2025-12-09 16:50:08,164 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:50:08,280 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:08,303 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:08,312 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:50:08,603 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:50:08,603 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:50:08,603 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:50:44,179 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:50:44,179 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:50:44,181 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:50:44,184 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:50:44,185 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:50:46,753 - server - INFO - Logging configuration complete
2025-12-09 16:50:46,753 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:50:46,878 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:46,906 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:50:46,916 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:50:47,210 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:50:47,211 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:50:47,211 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:51:34,815 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:51:34,816 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:51:34,817 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:51:34,821 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:51:34,821 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:51:37,279 - server - INFO - Logging configuration complete
2025-12-09 16:51:37,279 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:51:37,385 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:51:37,409 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:51:37,417 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:51:37,687 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:51:37,688 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:51:37,688 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:51:51,921 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:51:51,922 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:51:51,923 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:51:51,925 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:51:51,926 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:51:54,526 - server - INFO - Logging configuration complete
2025-12-09 16:51:54,526 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:51:54,671 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:51:54,703 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:51:54,713 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:51:55,015 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:51:55,016 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:51:55,016 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:09,337 - server - INFO - Logging configuration complete
2025-12-09 16:54:09,337 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:09,365 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:09,403 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:09,416 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:09,826 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:09,826 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:09,827 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:09,864 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:54:09,866 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:09,867 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:09,868 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:09,871 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:09,872 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:26,854 - server - INFO - Logging configuration complete
2025-12-09 16:54:26,855 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:26,886 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:26,924 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:26,938 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:27,466 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:27,466 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:27,468 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:28,989 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:30,124 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:30,987 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:31,032 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='albums, artists, customers, employees, genres, invoice_items, invoices, media_types, playlist_track, playlists, tracks', name='sql_db_list_tables', tool_call_id='call_pc0a4WJFZHrkziOq48PVhQxV')]}
2025-12-09 16:54:32,865 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:33,933 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:33,991 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='\nCREATE TABLE invoices (\n\t"InvoiceId" INTEGER NOT NULL, \n\t"CustomerId" INTEGER NOT NULL, \n\t"InvoiceDate" DATETIME NOT NULL, \n\t"BillingAddress" NVARCHAR(70), \n\t"BillingCity" NVARCHAR(40), \n\t"BillingState" NVARCHAR(40), \n\t"BillingCountry" NVARCHAR(40), \n\t"BillingPostalCode" NVARCHAR(10), \n\t"Total" NUMERIC(10, 2) NOT NULL, \n\tPRIMARY KEY ("InvoiceId"), \n\tFOREIGN KEY("CustomerId") REFERENCES customers ("CustomerId")\n)\n\n/*\n3 rows from invoices table:\nInvoiceId\tCustomerId\tInvoiceDate\tBillingAddress\tBillingCity\tBillingState\tBillingCountry\tBillingPostalCode\tTotal\n1\t2\t2009-01-01 00:00:00\tTheodor-Heuss-Straße 34\tStuttgart\tNone\tGermany\t70174\t1.98\n2\t4\t2009-01-02 00:00:00\tUllevålsveien 14\tOslo\tNone\tNorway\t0171\t3.96\n3\t8\t2009-01-03 00:00:00\tGrétrystraat 63\tBrussels\tNone\tBelgium\t1000\t5.94\n*/', name='sql_db_schema', tool_call_id='call_RSImtbtSpkhshsFZU7JJF0tP')]}
2025-12-09 16:54:35,061 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:36,720 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:36,772 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='\nCREATE TABLE invoice_items (\n\t"InvoiceLineId" INTEGER NOT NULL, \n\t"InvoiceId" INTEGER NOT NULL, \n\t"TrackId" INTEGER NOT NULL, \n\t"UnitPrice" NUMERIC(10, 2) NOT NULL, \n\t"Quantity" INTEGER NOT NULL, \n\tPRIMARY KEY ("InvoiceLineId"), \n\tFOREIGN KEY("TrackId") REFERENCES tracks ("TrackId"), \n\tFOREIGN KEY("InvoiceId") REFERENCES invoices ("InvoiceId")\n)\n\n/*\n3 rows from invoice_items table:\nInvoiceLineId\tInvoiceId\tTrackId\tUnitPrice\tQuantity\n1\t1\t2\t0.99\t1\n2\t1\t4\t0.99\t1\n3\t2\t6\t0.99\t1\n*/', name='sql_db_schema', tool_call_id='call_tFljdwGnpF4FEVN1Z6CyLy4C')]}
2025-12-09 16:54:38,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:40,070 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:40,119 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 16:54:40,132 - app.services.redis_dataframe_service - INFO - Initialized RedisDataFrameService with TTL: 3600s
2025-12-09 16:54:40,136 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:2a680e21709746c8910f009261776a02 with shape (1, 1), expires at 2025-12-09 17:54:40.136668
2025-12-09 16:54:40,138 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:2a680e21709746c8910f009261776a02 with shape (1, 1)
2025-12-09 16:54:40,139 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:2a680e21709746c8910f009261776a02", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T16:54:40.136668", "expires_at": "2025-12-09T17:54:40.136668", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:2a680e21709746c8910f009261776a02 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 17:54:40 UTC."}', name='sql_db_to_df', tool_call_id='call_JQxDosexnFh6Nz1WgnsLrm6l')]}
2025-12-09 16:54:40,140 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_JQxDosexnFh6Nz1WgnsLrm6l: {"data_context": {"df_id": "df:2a680e21709746c8910f009261776a02", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T16:54:40.136668", "expires_at": "2025-12-09T17:54:40.136668", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:2a680e21709746c8910f009261776a02 (1 rows \u00d7 1 columns). Expires at 2025-12-09 17:54:40 UTC."}
2025-12-09 16:54:40,140 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_JQxDosexnFh6Nz1WgnsLrm6l: df_id=df:2a680e21709746c8910f009261776a02
2025-12-09 16:54:41,558 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:42,966 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:43,015 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:2a680e21709746c8910f009261776a02 with shape (1, 1)
2025-12-09 16:54:43,016 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:2a680e21709746c8910f009261776a02 by 3600s
2025-12-09 16:54:43,016 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:2a680e21709746c8910f009261776a02
2025-12-09 16:54:43,335 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:2a680e21709746c8910f009261776a02
2025-12-09 16:54:43,337 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='Code executed successfully, but no output was printed.', name='python_repl', tool_call_id='call_61SuTkiMSA2XFloowubiHBTA')]}
2025-12-09 16:54:45,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:46,475 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:46,536 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:2a680e21709746c8910f009261776a02 with shape (1, 1)
2025-12-09 16:54:46,538 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:2a680e21709746c8910f009261776a02 by 3600s
2025-12-09 16:54:46,538 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:2a680e21709746c8910f009261776a02
2025-12-09 16:54:46,852 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:2a680e21709746c8910f009261776a02
2025-12-09 16:54:46,854 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_Ou2h1aD2yyxYJTvjd2TznRiI')]}
2025-12-09 16:54:48,053 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:48,074 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 16:54:48,078 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 16:54:48,405 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:48,406 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:48,407 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:48,410 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:48,411 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:48,417 - server - INFO - Logging configuration complete
2025-12-09 16:54:48,418 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:48,428 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:48,460 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:48,471 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:48,653 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:48,654 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:48,654 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:48,670 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:54:48,672 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:48,673 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:48,674 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:48,678 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:48,678 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:48,684 - server - INFO - Logging configuration complete
2025-12-09 16:54:48,685 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:48,696 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:48,729 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:48,739 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:48,933 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:48,934 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:48,934 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:50,213 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:52,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:52,816 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 16:54:52,826 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:b359eb62312b43609e64f12fa3355630 with shape (1, 1), expires at 2025-12-09 17:54:52.826420
2025-12-09 16:54:52,827 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:b359eb62312b43609e64f12fa3355630 with shape (1, 1)
2025-12-09 16:54:52,828 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:b359eb62312b43609e64f12fa3355630", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T16:54:52.826420", "expires_at": "2025-12-09T17:54:52.826420", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:b359eb62312b43609e64f12fa3355630 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 17:54:52 UTC."}', name='sql_db_to_df', tool_call_id='call_VDCqFVjYGonNPqpBHWbjzIll')]}
2025-12-09 16:54:52,829 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_VDCqFVjYGonNPqpBHWbjzIll: {"data_context": {"df_id": "df:b359eb62312b43609e64f12fa3355630", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T16:54:52.826420", "expires_at": "2025-12-09T17:54:52.826420", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:b359eb62312b43609e64f12fa3355630 (1 rows \u00d7 1 columns). Expires at 2025-12-09 17:54:52 UTC."}
2025-12-09 16:54:52,829 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_VDCqFVjYGonNPqpBHWbjzIll: df_id=df:b359eb62312b43609e64f12fa3355630
2025-12-09 16:54:53,833 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:54,718 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:54,765 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:b359eb62312b43609e64f12fa3355630 with shape (1, 1)
2025-12-09 16:54:54,767 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:b359eb62312b43609e64f12fa3355630 by 3600s
2025-12-09 16:54:54,767 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:b359eb62312b43609e64f12fa3355630
2025-12-09 16:54:55,081 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:b359eb62312b43609e64f12fa3355630
2025-12-09 16:54:55,082 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_7Q0Q5YPhvb4QsMRaLvUJUDpu')]}
2025-12-09 16:54:56,262 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 16:54:56,278 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 16:54:56,279 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 16:54:56,291 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:56,292 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:56,293 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:56,296 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:56,297 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:56,303 - server - INFO - Logging configuration complete
2025-12-09 16:54:56,303 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:56,315 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,351 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,361 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:56,547 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:56,548 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:56,548 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:56,573 - app.services.agent_service - INFO - Successfully deleted thread test-thread-123
2025-12-09 16:54:56,574 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/test-thread-123 "HTTP/1.1 200 OK"
2025-12-09 16:54:56,576 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:56,576 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:56,578 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:56,581 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:56,582 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:56,587 - server - INFO - Logging configuration complete
2025-12-09 16:54:56,588 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:56,600 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,633 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,643 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:56,826 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:56,827 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:56,827 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:56,849 - app.services.agent_service - INFO - Successfully deleted thread non-existent
2025-12-09 16:54:56,850 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/non-existent "HTTP/1.1 200 OK"
2025-12-09 16:54:56,865 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:56,866 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:56,867 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:56,871 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:56,872 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:56,879 - server - INFO - Logging configuration complete
2025-12-09 16:54:56,880 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:56,891 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,927 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:56,939 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:57,134 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:57,135 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:57,135 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:57,148 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:57,149 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:57,150 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:57,154 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:57,154 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:57,160 - server - INFO - Logging configuration complete
2025-12-09 16:54:57,161 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:57,172 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,206 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,216 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:57,394 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:57,395 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:57,395 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:57,552 - app.services.agent_service - ERROR - Failed to update state for thread test-thread-123: 
2025-12-09 16:54:57,553 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/test-thread-123/state "HTTP/1.1 500 Internal Server Error"
2025-12-09 16:54:57,563 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:57,563 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:57,565 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:57,568 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:57,569 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:57,575 - server - INFO - Logging configuration complete
2025-12-09 16:54:57,576 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:57,586 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,618 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,628 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:57,809 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:57,809 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:57,810 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:57,835 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:57,836 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:57,837 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:57,840 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:57,841 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:57,847 - server - INFO - Logging configuration complete
2025-12-09 16:54:57,848 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:57,858 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,892 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:57,901 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:58,091 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:58,092 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:58,092 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:58,114 - app.services.agent_service - ERROR - Failed to cleanup old checkpoints: 'AgentService' object has no attribute '_get_threads_from_db'
2025-12-09 16:54:58,115 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=30 "HTTP/1.1 500 Internal Server Error"
2025-12-09 16:54:58,127 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:58,128 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:58,129 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:58,134 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:58,135 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:58,141 - server - INFO - Logging configuration complete
2025-12-09 16:54:58,142 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:58,153 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,184 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,194 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:58,372 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:58,372 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:58,372 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:58,388 - app.services.agent_service - ERROR - Failed to cleanup old checkpoints: 'AgentService' object has no attribute '_get_threads_from_db'
2025-12-09 16:54:58,389 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=60 "HTTP/1.1 500 Internal Server Error"
2025-12-09 16:54:58,401 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:58,401 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:58,402 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:58,406 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:58,406 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:58,412 - server - INFO - Logging configuration complete
2025-12-09 16:54:58,413 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:58,424 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,455 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,465 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:58,655 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:58,656 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:58,656 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:58,680 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 16:54:58,682 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:58,683 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:58,684 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:58,688 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:58,689 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:58,696 - server - INFO - Logging configuration complete
2025-12-09 16:54:58,697 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:58,709 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,740 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:58,752 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:58,938 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:58,939 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:58,939 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:58,958 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 16:54:58,970 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:58,971 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:58,972 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:58,976 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:58,977 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:58,985 - server - INFO - Logging configuration complete
2025-12-09 16:54:58,986 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:58,997 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,032 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,042 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:59,222 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:59,223 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:59,223 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:59,238 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 16:54:59,250 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'Test Conversation'
2025-12-09 16:54:59,250 - app.api.v1.endpoints.conversation - ERROR - Error creating conversation: 'dict' object has no attribute 'thread_id'
2025-12-09 16:54:59,251 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 16:54:59,266 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:59,267 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:59,268 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:59,274 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:59,274 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:59,280 - server - INFO - Logging configuration complete
2025-12-09 16:54:59,281 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:59,292 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,328 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,341 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:59,526 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:59,527 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:59,527 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:59,541 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 16:54:59,544 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:54:59,546 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:59,546 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:59,547 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:59,551 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:59,551 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:59,557 - server - INFO - Logging configuration complete
2025-12-09 16:54:59,557 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:59,569 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,599 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,610 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:54:59,794 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:54:59,795 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:54:59,795 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:54:59,810 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 16:54:59,818 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 16:54:59,823 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 16:54:59,835 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:54:59,836 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:54:59,837 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:54:59,841 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:54:59,842 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:54:59,848 - server - INFO - Logging configuration complete
2025-12-09 16:54:59,849 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:54:59,859 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,897 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:54:59,908 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:00,093 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:00,093 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:00,094 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:00,109 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=10&skip=5 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 16:55:00,112 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 16:55:00,116 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=10&skip=5 "HTTP/1.1 200 OK"
2025-12-09 16:55:00,118 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:00,119 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:00,120 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:00,124 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:00,125 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:00,131 - server - INFO - Logging configuration complete
2025-12-09 16:55:00,131 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:00,142 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,172 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,182 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:00,340 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:00,341 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:00,341 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:00,356 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=200 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 16:55:00,359 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=200 "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:00,360 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:00,361 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:00,362 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:00,367 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:00,368 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:00,374 - server - INFO - Logging configuration complete
2025-12-09 16:55:00,374 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:00,386 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,418 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,428 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:00,604 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:00,605 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:00,605 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:00,626 - app.api.v1.endpoints.conversation - INFO - Retrieving thread thread-123
2025-12-09 16:55:00,627 - app.api.v1.endpoints.conversation - ERROR - Error retrieving conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 16:55:00,628 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 16:55:00,640 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:00,640 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:00,642 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:00,645 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:00,645 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:00,651 - server - INFO - Logging configuration complete
2025-12-09 16:55:00,652 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:00,663 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,694 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,705 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:00,897 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:00,898 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:00,898 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:00,915 - app.api.v1.endpoints.conversation - INFO - Retrieving thread non-existent
2025-12-09 16:55:00,916 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/non-existent "HTTP/1.1 200 OK"
2025-12-09 16:55:00,929 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:00,930 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:00,931 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:00,935 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:00,935 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:00,941 - server - INFO - Logging configuration complete
2025-12-09 16:55:00,942 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:00,953 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:00,991 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:01,002 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:01,187 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:01,188 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:01,188 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:01,203 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 405 Method Not Allowed"
2025-12-09 16:55:01,216 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:01,216 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:01,218 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:01,223 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:01,223 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:01,229 - server - INFO - Logging configuration complete
2025-12-09 16:55:01,230 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:01,241 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:01,273 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:01,284 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:01,467 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:01,468 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:01,468 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:01,483 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 405 Method Not Allowed"
2025-12-09 16:55:01,495 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:01,495 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:01,497 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:01,500 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:01,500 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:01,506 - server - INFO - Logging configuration complete
2025-12-09 16:55:01,506 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:01,517 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:01,546 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:01,555 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:01,922 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:01,923 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:01,923 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:01,948 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 16:55:01,950 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:01,951 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:01,952 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:01,956 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:01,956 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:01,962 - server - INFO - Logging configuration complete
2025-12-09 16:55:01,963 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:01,974 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,005 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,016 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:02,209 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:02,210 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:02,210 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:02,226 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/non-existent "HTTP/1.1 200 OK"
2025-12-09 16:55:02,239 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:02,240 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:02,241 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:02,245 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:02,246 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:02,252 - server - INFO - Logging configuration complete
2025-12-09 16:55:02,252 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:02,263 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,295 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,305 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:02,488 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:02,488 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:02,489 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:02,505 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/restore "HTTP/1.1 405 Method Not Allowed"
2025-12-09 16:55:02,518 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:02,518 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:02,519 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:02,523 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:02,523 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:02,529 - server - INFO - Logging configuration complete
2025-12-09 16:55:02,530 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:02,541 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,572 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,582 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:02,759 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:02,759 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:02,760 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:02,780 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/messages/status "HTTP/1.1 200 OK"
2025-12-09 16:55:02,782 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:02,783 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:02,784 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:02,788 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:02,788 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:02,794 - server - INFO - Logging configuration complete
2025-12-09 16:55:02,795 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:02,807 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,842 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:02,852 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:03,041 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:03,042 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:03,042 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:03,056 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/status "HTTP/1.1 404 Not Found"
2025-12-09 16:55:03,070 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:03,070 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:03,072 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:03,075 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:03,075 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:03,081 - server - INFO - Logging configuration complete
2025-12-09 16:55:03,082 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:03,093 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,124 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,134 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:03,324 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:03,325 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:03,326 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:03,341 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 404 Not Found"
2025-12-09 16:55:03,354 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:03,354 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:03,356 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:03,359 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:03,360 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:03,366 - server - INFO - Logging configuration complete
2025-12-09 16:55:03,366 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:03,378 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,407 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,417 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:03,597 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:03,598 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:03,598 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:03,611 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 404 Not Found"
2025-12-09 16:55:03,624 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:03,624 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:03,626 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:03,631 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:03,632 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:03,638 - server - INFO - Logging configuration complete
2025-12-09 16:55:03,638 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:03,651 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,681 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,691 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:03,882 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:03,882 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:03,883 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:03,896 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error?error_message=Test%20error "HTTP/1.1 404 Not Found"
2025-12-09 16:55:03,910 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:03,911 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:03,912 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:03,916 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:03,916 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:03,922 - server - INFO - Logging configuration complete
2025-12-09 16:55:03,923 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:03,934 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,966 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:03,976 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:04,166 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:04,167 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:04,167 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:04,189 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error "HTTP/1.1 404 Not Found"
2025-12-09 16:55:04,209 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:04,209 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:04,211 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:04,217 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:04,217 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:04,224 - server - INFO - Logging configuration complete
2025-12-09 16:55:04,225 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:04,237 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,278 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,290 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:04,499 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:04,499 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:04,499 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:04,512 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:04,512 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:04,514 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:04,517 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:04,517 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:04,523 - server - INFO - Logging configuration complete
2025-12-09 16:55:04,523 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:04,535 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,565 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,575 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:04,757 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:04,757 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:04,758 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:04,784 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:04,794 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:04,796 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:04,796 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:04,798 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:04,801 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:04,802 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:04,808 - server - INFO - Logging configuration complete
2025-12-09 16:55:04,808 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:04,819 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,851 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:04,863 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:05,047 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:05,047 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:05,048 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:05,063 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: non-existent
2025-12-09 16:55:05,064 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/non-existent/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:05,066 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:05,066 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:05,068 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:05,073 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:05,074 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:05,079 - server - INFO - Logging configuration complete
2025-12-09 16:55:05,080 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:05,090 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,120 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,130 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:05,321 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:05,321 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:05,321 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:05,337 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:05,338 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:05,340 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:05,341 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:05,342 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:05,348 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:05,348 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:05,354 - server - INFO - Logging configuration complete
2025-12-09 16:55:05,355 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:05,367 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,397 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,408 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:05,588 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:05,588 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:05,588 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:05,602 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:05,604 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:05,606 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:05,607 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:05,608 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:05,614 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:05,615 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:05,621 - server - INFO - Logging configuration complete
2025-12-09 16:55:05,622 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:05,632 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,663 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,673 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:05,862 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:05,863 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:05,863 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:05,887 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 16:55:05,890 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 16:55:05,891 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 16:55:05,892 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:05,893 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:05,894 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:05,897 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:05,898 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:05,903 - server - INFO - Logging configuration complete
2025-12-09 16:55:05,904 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:05,914 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,946 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:05,958 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:06,148 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:06,148 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:06,149 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:06,167 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:06,169 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:06,170 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:06,171 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:06,175 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:06,175 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:06,181 - server - INFO - Logging configuration complete
2025-12-09 16:55:06,182 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:06,194 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,226 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,236 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:06,432 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:06,433 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:06,434 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:06,449 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:06,450 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:06,451 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:06,454 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:06,455 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:06,461 - server - INFO - Logging configuration complete
2025-12-09 16:55:06,462 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:06,474 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,505 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,514 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:06,886 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:06,887 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:06,887 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:06,905 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:06,909 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:06,911 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:06,912 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:06,913 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:06,918 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:06,919 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:06,926 - server - INFO - Logging configuration complete
2025-12-09 16:55:06,927 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:06,941 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,973 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:06,984 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:07,164 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:07,164 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:07,165 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:07,181 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:07,184 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:07,186 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:07,186 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:07,187 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:07,193 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:07,194 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:07,199 - server - INFO - Logging configuration complete
2025-12-09 16:55:07,200 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:07,212 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,244 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,254 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:07,430 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:07,431 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:07,431 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:07,447 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 16:55:07,451 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:07,453 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:07,453 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:07,455 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:07,458 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:07,458 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:07,464 - server - INFO - Logging configuration complete
2025-12-09 16:55:07,465 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:07,476 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,504 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,514 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:07,695 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:07,696 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:07,696 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:07,713 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: invalid@id
2025-12-09 16:55:07,714 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/invalid@id/preview "HTTP/1.1 200 OK"
2025-12-09 16:55:07,716 - httpx - INFO - HTTP Request: GET http://testserver/etc/passwd/preview "HTTP/1.1 404 Not Found"
2025-12-09 16:55:07,717 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:07,718 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:07,719 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:07,722 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:07,723 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:07,729 - server - INFO - Logging configuration complete
2025-12-09 16:55:07,729 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:07,741 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,774 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:07,784 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:07,967 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:07,967 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:07,967 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:07,987 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 16:55:07,990 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 16:55:07,991 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 16:55:07,992 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:07,993 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:07,994 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:07,999 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:08,000 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:08,006 - server - INFO - Logging configuration complete
2025-12-09 16:55:08,006 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:08,017 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,051 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,061 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:08,245 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:08,245 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:08,246 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:08,264 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:08,266 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:08,267 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:08,268 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:08,272 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:08,272 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:08,278 - server - INFO - Logging configuration complete
2025-12-09 16:55:08,278 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:08,291 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,322 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,333 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:08,505 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:08,506 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:08,506 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:08,522 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:08,524 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:08,524 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:08,525 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:08,530 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:08,531 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:08,537 - server - INFO - Logging configuration complete
2025-12-09 16:55:08,537 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:08,548 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,582 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,593 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:08,784 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:08,785 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:08,786 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:08,813 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:08,827 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:08,828 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:08,829 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:08,833 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:08,833 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:08,839 - server - INFO - Logging configuration complete
2025-12-09 16:55:08,840 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:08,851 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,886 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:08,896 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:09,080 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:09,080 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:09,081 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:09,099 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:09,100 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:09,101 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:09,102 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:09,108 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:09,108 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:09,114 - server - INFO - Logging configuration complete
2025-12-09 16:55:09,114 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:09,126 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,161 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,171 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:09,364 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:09,364 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:09,365 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:09,387 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:09,399 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:09,400 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:09,401 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:09,405 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:09,405 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:09,411 - server - INFO - Logging configuration complete
2025-12-09 16:55:09,411 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:09,423 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,452 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,462 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:09,639 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:09,640 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:09,640 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:09,658 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123 "HTTP/1.1 404 Not Found"
2025-12-09 16:55:09,660 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:09,661 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:09,662 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:09,667 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:09,668 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:09,674 - server - INFO - Logging configuration complete
2025-12-09 16:55:09,674 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:09,685 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,719 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,730 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:09,912 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:09,913 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:09,913 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:09,929 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status "HTTP/1.1 404 Not Found"
2025-12-09 16:55:09,941 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:09,942 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:09,943 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:09,947 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:09,947 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:09,953 - server - INFO - Logging configuration complete
2025-12-09 16:55:09,954 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:09,964 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:09,996 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,007 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:10,196 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:10,196 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:10,197 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:10,221 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 16:55:10,224 - app.api.v1.endpoints.graph - ERROR - Error fetching explorer data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 16:55:10,225 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 16:55:10,227 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:10,227 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:10,229 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:10,232 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:10,232 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:10,243 - server - INFO - Logging configuration complete
2025-12-09 16:55:10,243 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:10,254 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,286 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,296 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:10,469 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:10,470 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:10,470 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:10,486 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:10,488 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:10,488 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:10,489 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:10,495 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:10,495 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:10,501 - server - INFO - Logging configuration complete
2025-12-09 16:55:10,501 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:10,512 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,546 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,555 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:10,738 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:10,739 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:10,739 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:10,767 - app.api.v1.endpoints.graph - INFO - Fetching visualization data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 16:55:10,770 - app.api.v1.endpoints.graph - ERROR - Error fetching visualization data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 16:55:10,771 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 16:55:10,773 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:10,773 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:10,774 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:10,778 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:10,778 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:10,784 - server - INFO - Logging configuration complete
2025-12-09 16:55:10,785 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:10,796 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,827 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:10,837 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:11,018 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:11,019 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:11,019 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:11,036 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:11,039 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:11,039 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:11,041 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:11,044 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:11,044 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:11,051 - server - INFO - Logging configuration complete
2025-12-09 16:55:11,052 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:11,062 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,099 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,109 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:11,302 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:11,303 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:11,304 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:11,319 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:11,321 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:11,321 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:11,322 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:11,326 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:11,326 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:11,332 - server - INFO - Logging configuration complete
2025-12-09 16:55:11,332 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:11,343 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,372 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,382 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:11,553 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:11,553 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:11,554 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:11,570 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:11,583 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:11,583 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:11,585 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:11,588 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:11,589 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:11,595 - server - INFO - Logging configuration complete
2025-12-09 16:55:11,595 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:11,606 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,640 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:11,650 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:12,043 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:12,043 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:12,044 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:12,061 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123&checkpoint_id=invalid "HTTP/1.1 404 Not Found"
2025-12-09 16:55:12,063 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:12,064 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:12,065 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:12,071 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:12,072 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:12,078 - server - INFO - Logging configuration complete
2025-12-09 16:55:12,079 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:12,091 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,122 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,132 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:12,315 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:12,315 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:12,316 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:12,330 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 16:55:12,346 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:12,347 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:12,348 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:12,352 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:12,352 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:12,358 - server - INFO - Logging configuration complete
2025-12-09 16:55:12,359 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:12,370 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,400 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,410 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:12,594 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:12,595 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:12,595 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:12,612 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 16:55:12,626 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:12,626 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:12,628 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:12,631 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:12,631 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:12,637 - server - INFO - Logging configuration complete
2025-12-09 16:55:12,638 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:12,648 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,680 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,690 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:12,870 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:12,871 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:12,871 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:12,897 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:12,910 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:12,911 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:12,912 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:12,915 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:12,916 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:12,921 - server - INFO - Logging configuration complete
2025-12-09 16:55:12,922 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:12,932 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,963 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:12,973 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:13,163 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:13,164 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:13,164 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:13,200 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 16:55:13,202 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:13,203 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:13,204 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:13,208 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:13,209 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:13,215 - server - INFO - Logging configuration complete
2025-12-09 16:55:13,215 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:13,226 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,258 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,269 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:13,462 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:13,462 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:13,463 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:13,486 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 16:55:13,488 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:13,489 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:13,490 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:13,494 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:13,495 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:13,502 - server - INFO - Logging configuration complete
2025-12-09 16:55:13,502 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:13,515 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,556 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,567 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:13,751 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:13,752 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:13,752 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:13,767 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/non-existent/result "HTTP/1.1 404 Not Found"
2025-12-09 16:55:13,769 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:13,770 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:13,771 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:13,776 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:13,776 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:13,782 - server - INFO - Logging configuration complete
2025-12-09 16:55:13,783 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:13,794 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,824 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:13,834 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:14,020 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:14,020 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:14,021 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:14,040 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/invalid "HTTP/1.1 404 Not Found"
2025-12-09 16:55:14,042 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:14,042 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:14,044 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:14,047 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:14,048 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:14,054 - server - INFO - Logging configuration complete
2025-12-09 16:55:14,054 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:14,064 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,095 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,106 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:14,350 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:14,351 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:14,352 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:14,379 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 16:55:14,384 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:14,385 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:14,386 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:14,393 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:14,394 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:14,400 - server - INFO - Logging configuration complete
2025-12-09 16:55:14,401 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:14,415 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,448 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,459 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:14,652 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:14,652 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:14,653 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:14,667 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 16:55:14,670 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:14,670 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:14,671 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:14,675 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:14,675 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:14,681 - server - INFO - Logging configuration complete
2025-12-09 16:55:14,681 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:14,692 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,723 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,734 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:14,920 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:14,921 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:14,921 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:14,938 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 16:55:14,940 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:14,941 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:14,942 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:14,947 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:14,948 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:55:14,954 - server - INFO - Logging configuration complete
2025-12-09 16:55:14,955 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:55:14,966 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:14,998 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:55:15,008 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:55:15,196 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:55:15,196 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:55:15,197 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:55:15,212 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 16:55:15,214 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:55:15,215 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:55:15,216 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:55:15,219 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:55:15,220 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:10,076 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:10,076 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:10,078 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:10,083 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:10,084 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:12,640 - server - INFO - Logging configuration complete
2025-12-09 16:58:12,641 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:12,747 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:12,769 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:12,779 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:13,104 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:13,104 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:13,104 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:14,408 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:14,408 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:14,409 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:14,413 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:14,414 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:16,922 - server - INFO - Logging configuration complete
2025-12-09 16:58:16,922 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:17,036 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:17,064 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:17,075 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:17,393 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:17,393 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:17,393 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:18,297 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:18,297 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:18,298 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:18,302 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:18,302 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:20,768 - server - INFO - Logging configuration complete
2025-12-09 16:58:20,769 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:20,872 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:20,895 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:20,904 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:21,214 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:21,215 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:21,215 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:22,219 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:22,219 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:22,220 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:22,224 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:22,224 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:24,866 - server - INFO - Logging configuration complete
2025-12-09 16:58:24,866 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:24,982 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:25,004 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:25,013 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:25,349 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:25,349 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:25,350 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:27,719 - server - INFO - Logging configuration complete
2025-12-09 16:58:27,719 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:27,819 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:27,841 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:27,849 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:28,127 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:28,127 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:28,128 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:35,246 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:35,246 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:35,247 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:35,250 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:35,250 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:37,748 - server - INFO - Logging configuration complete
2025-12-09 16:58:37,749 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:37,868 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:37,892 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:37,902 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:38,212 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:38,213 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:38,213 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:58:46,032 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:58:46,032 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:58:46,033 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:58:46,037 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:58:46,037 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:58:48,831 - server - INFO - Logging configuration complete
2025-12-09 16:58:48,831 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:58:48,956 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:48,980 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:58:48,990 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:58:49,316 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:58:49,316 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:58:49,317 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:59:06,361 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:59:06,361 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:59:06,362 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:59:06,366 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:59:06,366 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:59:08,760 - server - INFO - Logging configuration complete
2025-12-09 16:59:08,760 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:59:08,860 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:08,884 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:08,894 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:59:09,183 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:59:09,184 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:59:09,184 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:59:25,822 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:59:25,823 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:59:25,824 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:59:25,827 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:59:25,827 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 16:59:28,227 - server - INFO - Logging configuration complete
2025-12-09 16:59:28,228 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:59:28,347 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:28,372 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:28,381 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:59:28,681 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:59:28,682 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:59:28,682 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:59:31,150 - server - INFO - Logging configuration complete
2025-12-09 16:59:31,151 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:59:31,267 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:31,290 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:31,300 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:59:31,606 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:59:31,606 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:59:31,606 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:59:33,958 - server - INFO - Logging configuration complete
2025-12-09 16:59:33,958 - server - INFO - Starting up Agent Backend API...
2025-12-09 16:59:34,094 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:34,121 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 16:59:34,131 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 16:59:34,451 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 16:59:34,452 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 16:59:34,452 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 16:59:56,803 - server - INFO - Shutting down Agent Backend API...
2025-12-09 16:59:56,804 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 16:59:56,805 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 16:59:56,810 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 16:59:56,810 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:02:57,144 - server - INFO - Logging configuration complete
2025-12-09 17:02:57,144 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:02:57,258 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:02:57,283 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:02:57,293 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:02:57,593 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:02:57,593 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:02:57,594 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:03:30,973 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:03:30,973 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:03:30,974 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:03:30,978 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:03:30,978 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:03:33,432 - server - INFO - Logging configuration complete
2025-12-09 17:03:33,432 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:03:33,536 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:03:33,559 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:03:33,569 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:03:33,859 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:03:33,860 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:03:33,860 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:03:52,703 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:03:52,704 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:03:52,705 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:03:52,708 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:03:52,709 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:03:55,353 - server - INFO - Logging configuration complete
2025-12-09 17:03:55,353 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:03:55,478 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:03:55,506 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:03:55,517 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:03:55,849 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:03:55,850 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:03:55,850 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:27,851 - server - INFO - Logging configuration complete
2025-12-09 17:05:27,852 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:27,883 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:27,919 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:27,930 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:28,339 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:28,339 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:28,340 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:29,714 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:32,807 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:32,856 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:05:32,865 - app.services.redis_dataframe_service - INFO - Initialized RedisDataFrameService with TTL: 3600s
2025-12-09 17:05:32,868 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:ebb8bd049e2a4b608c68306d94288466 with shape (1, 1), expires at 2025-12-09 18:05:32.868212
2025-12-09 17:05:32,869 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:ebb8bd049e2a4b608c68306d94288466 with shape (1, 1)
2025-12-09 17:05:32,870 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:ebb8bd049e2a4b608c68306d94288466", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:05:32.868212", "expires_at": "2025-12-09T18:05:32.868212", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:ebb8bd049e2a4b608c68306d94288466 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:05:32 UTC."}', name='sql_db_to_df', tool_call_id='call_qgMRBSkMWSgl8o5urNClGEaw')]}
2025-12-09 17:05:32,871 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_qgMRBSkMWSgl8o5urNClGEaw: {"data_context": {"df_id": "df:ebb8bd049e2a4b608c68306d94288466", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:05:32.868212", "expires_at": "2025-12-09T18:05:32.868212", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:ebb8bd049e2a4b608c68306d94288466 (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:05:32 UTC."}
2025-12-09 17:05:32,871 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_qgMRBSkMWSgl8o5urNClGEaw: df_id=df:ebb8bd049e2a4b608c68306d94288466
2025-12-09 17:05:34,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:35,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:35,268 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:ebb8bd049e2a4b608c68306d94288466 with shape (1, 1)
2025-12-09 17:05:35,269 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:ebb8bd049e2a4b608c68306d94288466 by 3600s
2025-12-09 17:05:35,269 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:ebb8bd049e2a4b608c68306d94288466
2025-12-09 17:05:35,587 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:ebb8bd049e2a4b608c68306d94288466
2025-12-09 17:05:35,589 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_QB1jj9KBd6DPZyOYuXinJMis')]}
2025-12-09 17:05:36,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:37,004 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:05:37,005 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:05:37,313 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:37,313 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:37,315 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:37,319 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:37,319 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:37,325 - server - INFO - Logging configuration complete
2025-12-09 17:05:37,326 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:37,337 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:37,370 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:37,381 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:37,564 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:37,564 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:37,565 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:37,581 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:37,582 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:37,583 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:37,584 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:37,587 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:37,588 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:37,594 - server - INFO - Logging configuration complete
2025-12-09 17:05:37,594 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:37,606 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:37,637 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:37,648 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:37,836 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:37,837 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:37,837 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:39,189 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:42,285 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:42,336 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:05:42,346 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:6dd5032290fe4281816cef1b1b30c289 with shape (1, 1), expires at 2025-12-09 18:05:42.346184
2025-12-09 17:05:42,346 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:6dd5032290fe4281816cef1b1b30c289 with shape (1, 1)
2025-12-09 17:05:42,348 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:6dd5032290fe4281816cef1b1b30c289", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:05:42.346184", "expires_at": "2025-12-09T18:05:42.346184", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:6dd5032290fe4281816cef1b1b30c289 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:05:42 UTC."}', name='sql_db_to_df', tool_call_id='call_ET48Ts3Nz9H1LCFKPFrYkXGs')]}
2025-12-09 17:05:42,348 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_ET48Ts3Nz9H1LCFKPFrYkXGs: {"data_context": {"df_id": "df:6dd5032290fe4281816cef1b1b30c289", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:05:42.346184", "expires_at": "2025-12-09T18:05:42.346184", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:6dd5032290fe4281816cef1b1b30c289 (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:05:42 UTC."}
2025-12-09 17:05:42,349 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_ET48Ts3Nz9H1LCFKPFrYkXGs: df_id=df:6dd5032290fe4281816cef1b1b30c289
2025-12-09 17:05:44,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:44,442 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:6dd5032290fe4281816cef1b1b30c289 with shape (1, 1)
2025-12-09 17:05:44,444 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:6dd5032290fe4281816cef1b1b30c289 by 3600s
2025-12-09 17:05:44,444 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:6dd5032290fe4281816cef1b1b30c289
2025-12-09 17:05:44,811 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:6dd5032290fe4281816cef1b1b30c289
2025-12-09 17:05:44,812 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_QhK1tg1DMQfv4vYvzVh6raB6')]}
2025-12-09 17:05:46,162 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:05:46,181 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:05:46,183 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:05:46,193 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:46,194 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:46,195 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:46,198 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:46,199 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:46,204 - server - INFO - Logging configuration complete
2025-12-09 17:05:46,205 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:46,216 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,245 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,256 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:46,445 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:46,446 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:46,446 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:46,473 - app.services.agent_service - INFO - Successfully deleted thread test-thread-123
2025-12-09 17:05:46,474 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/test-thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:05:46,476 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:46,476 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:46,478 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:46,483 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:46,483 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:46,490 - server - INFO - Logging configuration complete
2025-12-09 17:05:46,490 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:46,501 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,531 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,540 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:46,725 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:46,725 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:46,725 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:46,743 - app.services.agent_service - INFO - Successfully deleted thread non-existent
2025-12-09 17:05:46,744 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/non-existent "HTTP/1.1 200 OK"
2025-12-09 17:05:46,758 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:46,758 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:46,759 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:46,763 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:46,763 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:46,770 - server - INFO - Logging configuration complete
2025-12-09 17:05:46,770 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:46,781 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,812 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:46,823 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:47,011 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:47,012 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:47,012 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:47,026 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:47,027 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:47,028 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:47,031 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:47,032 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:47,038 - server - INFO - Logging configuration complete
2025-12-09 17:05:47,038 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:47,049 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,082 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,093 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:47,290 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:47,290 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:47,290 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:47,314 - app.services.agent_service - ERROR - Failed to update state for thread test-thread-123: 
2025-12-09 17:05:47,315 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/test-thread-123/state "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:05:47,328 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:47,328 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:47,330 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:47,333 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:47,334 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:47,340 - server - INFO - Logging configuration complete
2025-12-09 17:05:47,340 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:47,351 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,382 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,393 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:47,577 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:47,578 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:47,578 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:47,602 - app.services.agent_service - INFO - Successfully deleted thread thread-1
2025-12-09 17:05:47,604 - app.services.agent_service - INFO - Successfully deleted thread thread-2
2025-12-09 17:05:47,604 - app.services.agent_service - INFO - Bulk deletion completed: 2/2 threads deleted
2025-12-09 17:05:47,605 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/bulk-delete "HTTP/1.1 200 OK"
2025-12-09 17:05:47,607 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:47,607 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:47,609 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:47,612 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:47,613 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:47,619 - server - INFO - Logging configuration complete
2025-12-09 17:05:47,619 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:47,629 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,660 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,670 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:47,862 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:47,862 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:47,863 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:47,883 - app.services.agent_service - ERROR - Failed to cleanup old checkpoints: 'AgentService' object has no attribute '_get_threads_from_db'
2025-12-09 17:05:47,884 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=30 "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:05:47,896 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:47,896 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:47,898 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:47,901 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:47,902 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:47,908 - server - INFO - Logging configuration complete
2025-12-09 17:05:47,908 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:47,919 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,950 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:47,961 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:48,144 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:48,144 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:48,145 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:48,159 - app.services.agent_service - ERROR - Failed to cleanup old checkpoints: 'AgentService' object has no attribute '_get_threads_from_db'
2025-12-09 17:05:48,160 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=60 "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:05:48,171 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:48,171 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:48,173 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:48,178 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:48,179 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:48,185 - server - INFO - Logging configuration complete
2025-12-09 17:05:48,185 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:48,197 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,229 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,240 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:48,570 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:48,570 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:48,571 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:48,591 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:05:48,593 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:48,594 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:48,595 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:48,599 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:48,600 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:48,605 - server - INFO - Logging configuration complete
2025-12-09 17:05:48,606 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:48,617 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,647 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,657 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:48,860 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:48,860 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:48,861 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:48,875 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:05:48,886 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:48,887 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:48,888 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:48,893 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:48,894 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:48,900 - server - INFO - Logging configuration complete
2025-12-09 17:05:48,900 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:48,911 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,941 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:48,951 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:49,128 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:49,128 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:49,129 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:49,142 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:05:49,153 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'Test Conversation'
2025-12-09 17:05:49,154 - app.api.v1.endpoints.conversation - ERROR - Error creating conversation: 'dict' object has no attribute 'thread_id'
2025-12-09 17:05:49,155 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 17:05:49,170 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:49,170 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:49,171 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:49,177 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:49,178 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:49,184 - server - INFO - Logging configuration complete
2025-12-09 17:05:49,185 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:49,196 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,228 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,238 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:49,429 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:49,430 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:49,430 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:49,447 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:05:49,451 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:49,453 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:49,453 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:49,455 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:49,458 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:49,459 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:49,465 - server - INFO - Logging configuration complete
2025-12-09 17:05:49,465 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:49,476 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,509 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,519 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:49,696 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:49,696 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:49,697 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:49,711 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:05:49,717 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:05:49,721 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 17:05:49,723 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:49,723 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:49,724 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:49,728 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:49,728 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:49,733 - server - INFO - Logging configuration complete
2025-12-09 17:05:49,734 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:49,746 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,777 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:49,788 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:49,966 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:49,967 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:49,967 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:49,980 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=10&skip=5 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:05:49,982 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:05:49,986 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=10&skip=5 "HTTP/1.1 200 OK"
2025-12-09 17:05:49,987 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:49,988 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:49,989 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:49,992 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:49,993 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:49,998 - server - INFO - Logging configuration complete
2025-12-09 17:05:49,999 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:50,010 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,040 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,051 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:50,234 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:50,234 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:50,235 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:50,252 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=200 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:05:50,255 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=200 "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:50,256 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:50,257 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:50,258 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:50,262 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:50,262 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:50,268 - server - INFO - Logging configuration complete
2025-12-09 17:05:50,269 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:50,279 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,309 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,320 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:50,496 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:50,497 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:50,497 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:50,519 - app.api.v1.endpoints.conversation - INFO - Retrieving thread thread-123
2025-12-09 17:05:50,519 - app.api.v1.endpoints.conversation - ERROR - Error retrieving conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:05:50,520 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:05:50,534 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:50,534 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:50,536 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:50,539 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:50,540 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:50,546 - server - INFO - Logging configuration complete
2025-12-09 17:05:50,546 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:50,557 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,588 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,598 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:50,790 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:50,790 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:50,791 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:50,805 - app.api.v1.endpoints.conversation - INFO - Retrieving thread non-existent
2025-12-09 17:05:50,807 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/non-existent "HTTP/1.1 200 OK"
2025-12-09 17:05:50,818 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:50,818 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:50,820 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:50,823 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:50,823 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:50,829 - server - INFO - Logging configuration complete
2025-12-09 17:05:50,829 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:50,840 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,874 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:50,885 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:51,066 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:51,067 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:51,067 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:51,090 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 200 OK"
2025-12-09 17:05:51,092 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:51,092 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:51,094 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:51,097 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:51,097 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:51,104 - server - INFO - Logging configuration complete
2025-12-09 17:05:51,104 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:51,115 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,148 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,158 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:51,342 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:51,343 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:51,343 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:51,359 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:51,360 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:51,361 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:51,362 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:51,366 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:51,366 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:51,372 - server - INFO - Logging configuration complete
2025-12-09 17:05:51,373 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:51,382 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,413 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,425 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:51,610 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:51,610 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:51,611 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:51,634 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:05:51,636 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:51,637 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:51,638 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:51,643 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:51,644 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:51,650 - server - INFO - Logging configuration complete
2025-12-09 17:05:51,651 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:51,661 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,691 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,701 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:51,882 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:51,882 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:51,883 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:51,898 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/non-existent "HTTP/1.1 404 Not Found"
2025-12-09 17:05:51,900 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:51,901 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:51,902 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:51,905 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:51,906 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:51,911 - server - INFO - Logging configuration complete
2025-12-09 17:05:51,912 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:51,922 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,952 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:51,963 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:52,143 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:52,144 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:52,144 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:52,167 - app.api.v1.endpoints.conversation - INFO - Restoring conversation thread-123
2025-12-09 17:05:52,171 - app.api.v1.endpoints.conversation - ERROR - Error restoring conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:05:52,172 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/restore "HTTP/1.1 200 OK"
2025-12-09 17:05:52,186 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:52,187 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:52,188 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:52,194 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:52,194 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:52,201 - server - INFO - Logging configuration complete
2025-12-09 17:05:52,202 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:52,213 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,247 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,257 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:52,441 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:52,441 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:52,442 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:52,465 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/messages/status "HTTP/1.1 200 OK"
2025-12-09 17:05:52,467 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:52,467 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:52,469 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:52,472 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:52,473 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:52,478 - server - INFO - Logging configuration complete
2025-12-09 17:05:52,479 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:52,490 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,521 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,537 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:52,735 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:52,736 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:52,736 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:52,759 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/status "HTTP/1.1 200 OK"
2025-12-09 17:05:52,771 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:52,771 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:52,773 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:52,778 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:52,778 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:52,785 - server - INFO - Logging configuration complete
2025-12-09 17:05:52,786 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:52,798 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,829 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:52,838 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:53,022 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:53,022 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:53,023 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:53,045 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 200 OK"
2025-12-09 17:05:53,059 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:53,060 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:53,061 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:53,065 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:53,065 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:53,071 - server - INFO - Logging configuration complete
2025-12-09 17:05:53,072 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:53,236 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,273 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,283 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:53,464 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:53,465 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:53,465 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:53,481 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 200 OK"
2025-12-09 17:05:53,496 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:53,497 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:53,498 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:53,503 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:53,504 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:53,509 - server - INFO - Logging configuration complete
2025-12-09 17:05:53,510 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:53,521 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,551 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,561 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:53,750 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:53,751 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:53,751 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:53,773 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error?error_message=Test%20error "HTTP/1.1 200 OK"
2025-12-09 17:05:53,774 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:53,775 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:53,776 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:53,781 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:53,781 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:53,787 - server - INFO - Logging configuration complete
2025-12-09 17:05:53,788 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:53,799 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,830 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:53,840 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:54,023 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:54,024 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:54,024 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:54,041 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error "HTTP/1.1 200 OK"
2025-12-09 17:05:54,043 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:54,043 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:54,045 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:54,050 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:54,051 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:54,056 - server - INFO - Logging configuration complete
2025-12-09 17:05:54,057 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:54,069 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,101 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,112 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:54,300 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:54,301 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:54,301 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:54,315 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:54,315 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:54,317 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:54,320 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:54,320 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:54,326 - server - INFO - Logging configuration complete
2025-12-09 17:05:54,327 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:54,338 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,368 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,379 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:54,585 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:54,586 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:54,586 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:54,623 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:54,628 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:54,633 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:54,634 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:54,636 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:54,643 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:54,644 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:54,652 - server - INFO - Logging configuration complete
2025-12-09 17:05:54,653 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:54,668 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,718 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,729 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:54,910 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:54,911 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:54,911 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:54,927 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: non-existent
2025-12-09 17:05:54,928 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/non-existent/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:54,930 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:54,930 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:54,932 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:54,935 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:54,935 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:54,941 - server - INFO - Logging configuration complete
2025-12-09 17:05:54,942 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:54,952 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,983 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:54,994 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:55,189 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:55,190 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:55,190 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:55,208 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:55,209 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:55,211 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:55,212 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:55,213 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:55,216 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:55,217 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:55,223 - server - INFO - Logging configuration complete
2025-12-09 17:05:55,224 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:55,235 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,266 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,277 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:55,462 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:55,462 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:55,463 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:55,479 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:55,481 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:55,483 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:55,484 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:55,485 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:55,490 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:55,491 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:55,497 - server - INFO - Logging configuration complete
2025-12-09 17:05:55,498 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:55,509 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,540 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,550 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:55,739 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:55,740 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:55,740 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:55,762 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:05:55,764 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:05:55,765 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:05:55,767 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:55,768 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:55,769 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:55,772 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:55,772 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:55,778 - server - INFO - Logging configuration complete
2025-12-09 17:05:55,779 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:55,792 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,822 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:55,832 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:56,011 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:56,012 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:56,012 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:56,028 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:56,030 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:56,030 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:56,031 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:56,036 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:56,037 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:56,042 - server - INFO - Logging configuration complete
2025-12-09 17:05:56,043 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:56,053 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,085 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,096 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:56,282 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:56,283 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:56,283 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:56,297 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:56,297 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:56,298 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:56,303 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:56,304 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:56,310 - server - INFO - Logging configuration complete
2025-12-09 17:05:56,310 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:56,321 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,350 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,360 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:56,541 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:56,541 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:56,542 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:56,557 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:56,560 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:56,562 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:56,562 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:56,563 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:56,567 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:56,567 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:56,573 - server - INFO - Logging configuration complete
2025-12-09 17:05:56,573 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:56,584 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,619 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,631 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:56,820 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:56,821 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:56,821 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:56,836 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:56,839 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:56,841 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:56,841 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:56,843 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:56,848 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:56,848 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:56,855 - server - INFO - Logging configuration complete
2025-12-09 17:05:56,856 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:56,867 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,897 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:56,908 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:57,091 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:57,091 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:57,092 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:57,110 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:05:57,113 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:57,115 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:57,115 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:57,117 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:57,120 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:57,121 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:57,127 - server - INFO - Logging configuration complete
2025-12-09 17:05:57,128 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:57,141 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,175 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,187 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:57,374 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:57,375 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:57,375 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:57,394 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: invalid@id
2025-12-09 17:05:57,395 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/invalid@id/preview "HTTP/1.1 200 OK"
2025-12-09 17:05:57,397 - httpx - INFO - HTTP Request: GET http://testserver/etc/passwd/preview "HTTP/1.1 404 Not Found"
2025-12-09 17:05:57,399 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:57,399 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:57,400 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:57,404 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:57,404 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:57,410 - server - INFO - Logging configuration complete
2025-12-09 17:05:57,411 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:57,423 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,455 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,465 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:57,652 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:57,652 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:57,653 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:57,668 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:05:57,671 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:05:57,672 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:05:57,673 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:57,674 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:57,675 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:57,680 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:57,681 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:57,687 - server - INFO - Logging configuration complete
2025-12-09 17:05:57,688 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:57,698 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,729 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,739 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:57,918 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:57,919 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:57,919 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:57,935 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:57,936 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:57,937 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:57,938 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:57,942 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:57,942 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:57,948 - server - INFO - Logging configuration complete
2025-12-09 17:05:57,949 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:57,960 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:57,991 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:58,001 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:58,190 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:58,190 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:58,190 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:58,206 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:58,208 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:58,209 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:58,210 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:58,213 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:58,214 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:58,219 - server - INFO - Logging configuration complete
2025-12-09 17:05:58,220 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:58,231 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:58,261 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:58,271 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:58,453 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:58,454 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:58,454 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:58,482 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:58,495 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:58,496 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:58,497 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:58,503 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:58,503 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:58,509 - server - INFO - Logging configuration complete
2025-12-09 17:05:58,510 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:58,521 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:58,556 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:58,566 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:58,791 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:58,791 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:58,791 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:58,988 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:58,990 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:58,990 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:58,991 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:58,995 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:58,995 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:59,001 - server - INFO - Logging configuration complete
2025-12-09 17:05:59,002 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:59,013 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,045 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,056 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:59,238 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:59,239 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:59,239 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:59,265 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:05:59,277 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:59,278 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:59,279 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:59,284 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:59,285 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:59,291 - server - INFO - Logging configuration complete
2025-12-09 17:05:59,292 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:59,302 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,331 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,341 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:59,516 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:59,516 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:59,517 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:59,533 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123 "HTTP/1.1 404 Not Found"
2025-12-09 17:05:59,535 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:59,536 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:59,537 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:59,540 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:59,541 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:59,547 - server - INFO - Logging configuration complete
2025-12-09 17:05:59,547 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:59,558 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,587 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,598 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:05:59,785 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:05:59,785 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:05:59,786 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:05:59,801 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status "HTTP/1.1 404 Not Found"
2025-12-09 17:05:59,813 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:05:59,813 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:05:59,814 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:05:59,818 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:05:59,818 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:05:59,824 - server - INFO - Logging configuration complete
2025-12-09 17:05:59,824 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:05:59,835 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,864 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:05:59,875 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:00,069 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:00,069 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:00,070 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:00,095 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:06:00,099 - app.api.v1.endpoints.graph - ERROR - Error fetching explorer data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:06:00,100 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:06:00,102 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:00,102 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:00,104 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:00,109 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:00,109 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:00,116 - server - INFO - Logging configuration complete
2025-12-09 17:06:00,116 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:00,128 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,159 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,169 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:00,348 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:00,349 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:00,349 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:00,366 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:00,368 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:00,369 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:00,370 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:00,373 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:00,374 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:00,379 - server - INFO - Logging configuration complete
2025-12-09 17:06:00,380 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:00,391 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,423 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,434 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:00,626 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:00,626 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:00,627 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:00,648 - app.api.v1.endpoints.graph - INFO - Fetching visualization data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:06:00,651 - app.api.v1.endpoints.graph - ERROR - Error fetching visualization data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:06:00,652 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:06:00,654 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:00,654 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:00,656 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:00,659 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:00,659 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:00,665 - server - INFO - Logging configuration complete
2025-12-09 17:06:00,665 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:00,678 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,707 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,717 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:00,895 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:00,896 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:00,896 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:00,912 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:00,914 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:00,914 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:00,915 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:00,919 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:00,919 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:00,925 - server - INFO - Logging configuration complete
2025-12-09 17:06:00,926 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:00,936 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,966 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:00,976 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:01,165 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:01,165 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:01,166 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:01,182 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:01,183 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:01,184 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:01,185 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:01,188 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:01,189 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:01,195 - server - INFO - Logging configuration complete
2025-12-09 17:06:01,195 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:01,207 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,237 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,247 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:01,428 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:01,428 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:01,429 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:01,446 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:01,460 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:01,460 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:01,462 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:01,465 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:01,466 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:01,472 - server - INFO - Logging configuration complete
2025-12-09 17:06:01,472 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:01,484 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,516 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,527 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:01,723 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:01,724 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:01,724 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:01,739 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123&checkpoint_id=invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:06:01,741 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:01,742 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:01,743 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:01,746 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:01,747 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:01,753 - server - INFO - Logging configuration complete
2025-12-09 17:06:01,753 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:01,764 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,795 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:01,805 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:01,998 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:01,998 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:01,999 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:02,023 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:06:02,042 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:02,043 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:02,044 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:02,049 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:02,049 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:02,055 - server - INFO - Logging configuration complete
2025-12-09 17:06:02,055 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:02,067 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,107 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,119 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:02,303 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:02,304 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:02,304 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:02,319 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:06:02,331 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:02,332 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:02,333 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:02,337 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:02,337 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:02,342 - server - INFO - Logging configuration complete
2025-12-09 17:06:02,343 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:02,354 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,385 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,395 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:02,588 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:02,588 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:02,589 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:02,613 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:02,627 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:02,628 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:02,629 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:02,633 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:02,633 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:02,639 - server - INFO - Logging configuration complete
2025-12-09 17:06:02,640 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:02,650 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,683 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,694 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:02,878 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:02,879 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:02,879 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:02,915 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:06:02,917 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:02,917 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:02,919 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:02,923 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:02,924 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:02,930 - server - INFO - Logging configuration complete
2025-12-09 17:06:02,930 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:02,941 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,973 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:02,984 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:03,175 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:03,175 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:03,176 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:03,192 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:06:03,194 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:03,194 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:03,196 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:03,199 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:03,199 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:03,204 - server - INFO - Logging configuration complete
2025-12-09 17:06:03,205 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:03,216 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,250 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,261 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:03,444 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:03,445 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:03,445 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:03,459 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/non-existent/result "HTTP/1.1 404 Not Found"
2025-12-09 17:06:03,461 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:03,461 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:03,463 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:03,467 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:03,468 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:03,474 - server - INFO - Logging configuration complete
2025-12-09 17:06:03,475 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:03,488 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,525 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,536 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:03,730 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:03,731 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:03,731 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:03,748 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:06:03,750 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:03,751 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:03,752 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:03,755 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:03,756 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:03,762 - server - INFO - Logging configuration complete
2025-12-09 17:06:03,763 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:03,774 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,806 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:03,816 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:04,191 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:04,192 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:04,192 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:04,208 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:06:04,210 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:04,211 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:04,212 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:04,215 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:04,216 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:04,222 - server - INFO - Logging configuration complete
2025-12-09 17:06:04,222 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:04,233 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,266 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,276 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:04,454 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:04,455 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:04,455 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:04,469 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:06:04,471 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:04,472 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:04,473 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:04,478 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:04,479 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:04,485 - server - INFO - Logging configuration complete
2025-12-09 17:06:04,485 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:04,496 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,535 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,547 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:04,780 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:04,781 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:04,781 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:04,801 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:06:04,803 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:04,803 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:04,805 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:04,810 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:04,810 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:06:04,817 - server - INFO - Logging configuration complete
2025-12-09 17:06:04,817 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:06:04,829 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,861 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:06:04,871 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:06:05,055 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:06:05,056 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:06:05,056 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:06:05,078 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:06:05,080 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:06:05,080 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:06:05,082 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:06:05,085 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:06:05,086 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:07:54,286 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:07:54,286 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:07:54,287 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:07:54,291 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:07:54,291 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:07:56,713 - server - INFO - Logging configuration complete
2025-12-09 17:07:56,714 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:07:56,823 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:07:56,845 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:07:56,855 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:07:57,141 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:07:57,141 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:07:57,142 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:08:08,067 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:08:08,067 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:08:08,068 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:08:08,071 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:08:08,071 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:08:10,597 - server - INFO - Logging configuration complete
2025-12-09 17:08:10,597 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:08:10,700 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:10,721 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:10,730 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:08:11,012 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:08:11,012 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:08:11,012 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:08:22,036 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:08:22,037 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:08:22,038 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:08:22,041 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:08:22,041 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:08:24,474 - server - INFO - Logging configuration complete
2025-12-09 17:08:24,474 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:08:24,573 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:24,595 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:24,604 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:08:24,957 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:08:24,958 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:08:24,958 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:08:37,689 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:08:37,689 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:08:37,690 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:08:37,696 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:08:37,696 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:08:40,104 - server - INFO - Logging configuration complete
2025-12-09 17:08:40,104 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:08:40,201 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:40,223 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:08:40,231 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:08:40,515 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:08:40,515 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:08:40,516 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:08:59,361 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:08:59,361 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:08:59,362 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:08:59,366 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:08:59,366 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:09:01,742 - server - INFO - Logging configuration complete
2025-12-09 17:09:01,742 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:09:01,845 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:01,868 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:01,878 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:09:02,152 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:09:02,153 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:09:02,153 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:09:29,117 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:09:29,117 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:09:29,118 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:09:29,121 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:09:29,122 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:09:31,529 - server - INFO - Logging configuration complete
2025-12-09 17:09:31,529 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:09:31,628 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:31,651 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:31,659 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:09:31,937 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:09:31,937 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:09:31,938 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:09:53,691 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:09:53,691 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:09:53,692 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:09:53,695 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:09:53,695 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:09:56,186 - server - INFO - Logging configuration complete
2025-12-09 17:09:56,187 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:09:56,304 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:56,331 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:09:56,340 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:09:56,629 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:09:56,630 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:09:56,630 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:10:17,678 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:10:17,678 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:10:17,679 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:10:17,682 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:10:17,683 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:10:43,947 - server - INFO - Logging configuration complete
2025-12-09 17:10:43,948 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:10:44,053 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:10:44,076 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:10:44,086 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:10:44,420 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:10:44,420 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:10:44,420 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:01,462 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:01,462 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:01,463 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:01,467 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:01,467 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:04,084 - server - INFO - Logging configuration complete
2025-12-09 17:11:04,084 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:04,200 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:04,226 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:04,237 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:04,544 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:04,545 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:04,545 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:13,160 - server - INFO - Logging configuration complete
2025-12-09 17:11:13,161 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:13,191 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:13,226 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:13,236 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:13,614 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:13,615 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:13,615 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:15,607 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:23,199 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:23,251 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:11:23,260 - app.services.redis_dataframe_service - INFO - Initialized RedisDataFrameService with TTL: 3600s
2025-12-09 17:11:23,263 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:606577da4ee64e5f908c316f666722ec with shape (1, 1), expires at 2025-12-09 18:11:23.263343
2025-12-09 17:11:23,264 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:606577da4ee64e5f908c316f666722ec with shape (1, 1)
2025-12-09 17:11:23,265 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:606577da4ee64e5f908c316f666722ec", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:11:23.263343", "expires_at": "2025-12-09T18:11:23.263343", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:606577da4ee64e5f908c316f666722ec (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:11:23 UTC."}', name='sql_db_to_df', tool_call_id='call_cEDAW1QWs7Nq1AOwbWWvbndu')]}
2025-12-09 17:11:23,265 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_cEDAW1QWs7Nq1AOwbWWvbndu: {"data_context": {"df_id": "df:606577da4ee64e5f908c316f666722ec", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:11:23.263343", "expires_at": "2025-12-09T18:11:23.263343", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:606577da4ee64e5f908c316f666722ec (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:11:23 UTC."}
2025-12-09 17:11:23,266 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_cEDAW1QWs7Nq1AOwbWWvbndu: df_id=df:606577da4ee64e5f908c316f666722ec
2025-12-09 17:11:30,592 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:30,652 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:606577da4ee64e5f908c316f666722ec with shape (1, 1)
2025-12-09 17:11:30,653 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:606577da4ee64e5f908c316f666722ec by 3600s
2025-12-09 17:11:30,654 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:606577da4ee64e5f908c316f666722ec
2025-12-09 17:11:30,934 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:606577da4ee64e5f908c316f666722ec
2025-12-09 17:11:30,936 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_2TJI8qYg7N1jhepuQOCbuZen')]}
2025-12-09 17:11:34,889 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:34,911 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:11:34,913 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:11:35,242 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:35,242 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:35,244 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:35,247 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:35,248 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:35,254 - server - INFO - Logging configuration complete
2025-12-09 17:11:35,254 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:35,267 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:35,298 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:35,309 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:35,484 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:35,485 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:35,485 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:35,503 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:35,505 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:35,505 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:35,507 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:35,512 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:35,512 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:35,518 - server - INFO - Logging configuration complete
2025-12-09 17:11:35,519 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:35,532 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:35,565 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:35,574 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:35,748 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:35,748 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:35,749 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:36,935 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:43,720 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:43,775 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:11:43,786 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:d2f0115424834ee583ed9a41a24f1702 with shape (1, 1), expires at 2025-12-09 18:11:43.786355
2025-12-09 17:11:43,787 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:d2f0115424834ee583ed9a41a24f1702 with shape (1, 1)
2025-12-09 17:11:43,788 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:d2f0115424834ee583ed9a41a24f1702", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:11:43.786355", "expires_at": "2025-12-09T18:11:43.786355", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:d2f0115424834ee583ed9a41a24f1702 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:11:43 UTC."}', name='sql_db_to_df', tool_call_id='call_ildT62pq4kO5CCCqBmjN7atA')]}
2025-12-09 17:11:43,789 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_ildT62pq4kO5CCCqBmjN7atA: {"data_context": {"df_id": "df:d2f0115424834ee583ed9a41a24f1702", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:11:43.786355", "expires_at": "2025-12-09T18:11:43.786355", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:d2f0115424834ee583ed9a41a24f1702 (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:11:43 UTC."}
2025-12-09 17:11:43,790 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_ildT62pq4kO5CCCqBmjN7atA: df_id=df:d2f0115424834ee583ed9a41a24f1702
2025-12-09 17:11:46,659 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:46,727 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:d2f0115424834ee583ed9a41a24f1702 with shape (1, 1)
2025-12-09 17:11:46,729 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:d2f0115424834ee583ed9a41a24f1702 by 3600s
2025-12-09 17:11:46,729 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:d2f0115424834ee583ed9a41a24f1702
2025-12-09 17:11:47,035 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:d2f0115424834ee583ed9a41a24f1702
2025-12-09 17:11:47,036 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_GLq4KvbzGqq2W74lUVshFp3H')]}
2025-12-09 17:11:50,077 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:11:50,093 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:11:50,095 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:11:50,109 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:50,109 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:50,111 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:50,114 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:50,115 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:50,121 - server - INFO - Logging configuration complete
2025-12-09 17:11:50,121 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:50,132 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,163 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,173 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:50,352 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:50,352 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:50,353 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:50,381 - app.services.agent_service - INFO - Successfully deleted thread test-thread-123
2025-12-09 17:11:50,382 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/test-thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:11:50,384 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:50,385 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:50,386 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:50,391 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:50,392 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:50,399 - server - INFO - Logging configuration complete
2025-12-09 17:11:50,399 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:50,410 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,443 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,452 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:50,617 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:50,617 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:50,618 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:50,637 - app.services.agent_service - INFO - Successfully deleted thread non-existent
2025-12-09 17:11:50,638 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/non-existent "HTTP/1.1 200 OK"
2025-12-09 17:11:50,650 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:50,651 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:50,652 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:50,658 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:50,658 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:50,664 - server - INFO - Logging configuration complete
2025-12-09 17:11:50,665 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:50,676 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,720 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:50,732 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:50,931 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:50,932 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:50,932 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:50,948 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:50,948 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:50,950 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:50,953 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:50,954 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:50,959 - server - INFO - Logging configuration complete
2025-12-09 17:11:50,960 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:50,970 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,000 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,010 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:51,182 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:51,182 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:51,183 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:51,202 - app.services.agent_service - ERROR - Failed to update state for thread test-thread-123: 
2025-12-09 17:11:51,203 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/test-thread-123/state "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:51,214 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:51,215 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:51,216 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:51,219 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:51,220 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:51,226 - server - INFO - Logging configuration complete
2025-12-09 17:11:51,226 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:51,237 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,268 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,279 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:51,460 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:51,461 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:51,461 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:51,485 - app.services.agent_service - INFO - Successfully deleted thread thread-1
2025-12-09 17:11:51,486 - app.services.agent_service - INFO - Successfully deleted thread thread-2
2025-12-09 17:11:51,487 - app.services.agent_service - INFO - Bulk deletion completed: 2/2 threads deleted
2025-12-09 17:11:51,488 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/bulk-delete "HTTP/1.1 200 OK"
2025-12-09 17:11:51,489 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:51,490 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:51,491 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:51,494 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:51,495 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:51,500 - server - INFO - Logging configuration complete
2025-12-09 17:11:51,501 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:51,512 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,544 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,556 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:51,740 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:51,741 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:51,742 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:51,766 - app.services.agent_service - INFO - Cleanup completed: 0/0 old threads deleted
2025-12-09 17:11:51,768 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=30 "HTTP/1.1 200 OK"
2025-12-09 17:11:51,769 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:51,770 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:51,771 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:51,776 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:51,777 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:51,783 - server - INFO - Logging configuration complete
2025-12-09 17:11:51,783 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:51,794 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,828 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:51,838 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:52,028 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:52,029 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:52,029 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:52,045 - app.services.agent_service - INFO - Cleanup completed: 0/0 old threads deleted
2025-12-09 17:11:52,046 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=60 "HTTP/1.1 200 OK"
2025-12-09 17:11:52,048 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:52,048 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:52,050 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:52,053 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:52,053 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:52,059 - server - INFO - Logging configuration complete
2025-12-09 17:11:52,060 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:52,071 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,102 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,113 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:52,307 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:52,307 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:52,307 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:52,329 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:11:52,332 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:52,332 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:52,333 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:52,336 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:52,337 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:52,343 - server - INFO - Logging configuration complete
2025-12-09 17:11:52,344 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:52,354 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,394 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,404 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:52,583 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:52,583 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:52,584 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:52,600 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:11:52,611 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:52,612 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:52,613 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:52,616 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:52,617 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:52,642 - httpx - INFO - HTTP Request: POST http://test/api/v1/agent/run "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:52,820 - httpx - INFO - HTTP Request: POST http://test/api/v1/agent/run "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:52,821 - httpx - INFO - HTTP Request: POST http://test/api/v1/agent/run "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:52,822 - httpx - INFO - HTTP Request: POST http://test/api/v1/agent/run "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:52,836 - server - INFO - Logging configuration complete
2025-12-09 17:11:52,837 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:52,848 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,883 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:52,894 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:53,068 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:53,068 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:53,069 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:53,083 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:53,095 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'Test Conversation'
2025-12-09 17:11:53,095 - app.api.v1.endpoints.conversation - ERROR - Error creating conversation: 'dict' object has no attribute 'thread_id'
2025-12-09 17:11:53,096 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:53,111 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:53,111 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:53,113 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:53,118 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:53,119 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:53,125 - server - INFO - Logging configuration complete
2025-12-09 17:11:53,125 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:53,136 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,167 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,176 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:53,356 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:53,357 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:53,357 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:53,371 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:53,374 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:53,376 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:53,376 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:53,378 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:53,381 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:53,382 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:53,387 - server - INFO - Logging configuration complete
2025-12-09 17:11:53,388 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:53,399 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,429 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,438 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:53,613 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:53,613 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:53,614 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:53,628 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:53,638 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:11:53,643 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 17:11:53,645 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:53,645 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:53,646 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:53,652 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:53,652 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:53,658 - server - INFO - Logging configuration complete
2025-12-09 17:11:53,659 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:53,670 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,702 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,712 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:53,900 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:53,900 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:53,901 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:53,915 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=10&skip=5 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:53,918 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:11:53,922 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=10&skip=5 "HTTP/1.1 200 OK"
2025-12-09 17:11:53,924 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:53,925 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:53,926 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:53,930 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:53,930 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:53,937 - server - INFO - Logging configuration complete
2025-12-09 17:11:53,938 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:53,948 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,978 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:53,988 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:54,160 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:54,160 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:54,161 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:54,175 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=200 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:54,178 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=200 "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:54,180 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:54,181 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:54,182 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:54,185 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:54,186 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:54,192 - server - INFO - Logging configuration complete
2025-12-09 17:11:54,193 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:54,204 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,236 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,246 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:54,422 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:54,423 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:54,423 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:54,445 - app.api.v1.endpoints.conversation - INFO - Retrieving thread thread-123
2025-12-09 17:11:54,446 - app.api.v1.endpoints.conversation - ERROR - Error retrieving conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:11:54,447 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:54,459 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:54,459 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:54,461 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:54,464 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:54,465 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:54,471 - server - INFO - Logging configuration complete
2025-12-09 17:11:54,472 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:54,483 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,514 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,524 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:54,695 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:54,695 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:54,696 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:54,714 - app.api.v1.endpoints.conversation - INFO - Retrieving thread non-existent
2025-12-09 17:11:54,715 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/non-existent "HTTP/1.1 404 Not Found"
2025-12-09 17:11:54,718 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:54,718 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:54,720 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:54,723 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:54,724 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:54,730 - server - INFO - Logging configuration complete
2025-12-09 17:11:54,731 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:54,743 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,783 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:54,794 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:54,998 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:54,999 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:54,999 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:55,020 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 200 OK"
2025-12-09 17:11:55,022 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:55,023 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:55,024 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:55,027 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:55,028 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:55,034 - server - INFO - Logging configuration complete
2025-12-09 17:11:55,034 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:55,045 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,075 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,085 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:55,259 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:55,259 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:55,260 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:55,277 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:55,279 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:55,280 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:55,281 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:55,286 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:55,286 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:55,292 - server - INFO - Logging configuration complete
2025-12-09 17:11:55,293 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:55,304 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,335 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,345 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:55,514 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:55,515 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:55,515 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:55,535 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:11:55,537 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:55,538 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:55,539 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:55,542 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:55,543 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:55,549 - server - INFO - Logging configuration complete
2025-12-09 17:11:55,550 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:55,560 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,590 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,599 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:55,786 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:55,786 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:55,786 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:55,804 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/non-existent "HTTP/1.1 404 Not Found"
2025-12-09 17:11:55,807 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:55,807 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:55,808 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:55,811 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:55,812 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:55,818 - server - INFO - Logging configuration complete
2025-12-09 17:11:55,818 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:55,830 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,860 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:55,871 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:56,040 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:56,041 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:56,041 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:56,063 - app.api.v1.endpoints.conversation - INFO - Restoring conversation thread-123
2025-12-09 17:11:56,067 - app.api.v1.endpoints.conversation - ERROR - Error restoring conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:11:56,068 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/restore "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:11:56,080 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:56,080 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:56,082 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:56,087 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:56,087 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:56,093 - server - INFO - Logging configuration complete
2025-12-09 17:11:56,094 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:56,104 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,133 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,142 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:56,327 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:56,327 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:56,328 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:56,350 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/messages/status "HTTP/1.1 200 OK"
2025-12-09 17:11:56,353 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:56,353 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:56,355 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:56,360 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:56,361 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:56,367 - server - INFO - Logging configuration complete
2025-12-09 17:11:56,368 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:56,380 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,412 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,423 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:56,612 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:56,613 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:56,613 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:56,639 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/status "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:56,653 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:56,653 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:56,655 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:56,660 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:56,661 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:56,667 - server - INFO - Logging configuration complete
2025-12-09 17:11:56,667 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:56,678 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,711 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:56,722 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:56,935 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:56,935 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:56,936 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:56,957 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:56,969 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:56,970 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:56,972 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:56,975 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:56,975 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:56,981 - server - INFO - Logging configuration complete
2025-12-09 17:11:56,982 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:56,994 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,029 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,041 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:57,249 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:57,250 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:57,250 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:57,272 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:57,274 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:57,275 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:57,276 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:57,282 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:57,283 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:57,289 - server - INFO - Logging configuration complete
2025-12-09 17:11:57,290 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:57,302 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,334 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,345 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:57,691 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:57,692 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:57,692 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:57,711 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error?error_message=Test%20error "HTTP/1.1 200 OK"
2025-12-09 17:11:57,713 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:57,714 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:57,715 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:57,719 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:57,719 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:57,725 - server - INFO - Logging configuration complete
2025-12-09 17:11:57,725 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:57,736 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,768 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:57,779 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:57,969 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:57,969 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:57,970 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:57,986 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error "HTTP/1.1 200 OK"
2025-12-09 17:11:57,988 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:57,989 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:57,990 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:57,994 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:57,994 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:58,001 - server - INFO - Logging configuration complete
2025-12-09 17:11:58,002 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:58,014 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,045 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,055 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:58,237 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:58,238 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:58,238 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:58,254 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:58,254 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:58,256 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:58,259 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:58,259 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:58,279 - httpx - INFO - HTTP Request: POST http://test/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:58,308 - httpx - INFO - HTTP Request: POST http://test/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:58,309 - httpx - INFO - HTTP Request: POST http://test/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:58,310 - httpx - INFO - HTTP Request: POST http://test/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:11:58,326 - server - INFO - Logging configuration complete
2025-12-09 17:11:58,326 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:58,337 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,366 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,377 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:58,546 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:58,546 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:58,547 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:58,572 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:11:58,576 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:11:58,578 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:58,578 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:58,579 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:58,585 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:58,585 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:58,591 - server - INFO - Logging configuration complete
2025-12-09 17:11:58,592 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:58,602 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,640 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,651 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:58,833 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:58,834 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:58,834 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:58,850 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: non-existent
2025-12-09 17:11:58,851 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/non-existent/preview "HTTP/1.1 200 OK"
2025-12-09 17:11:58,852 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:58,853 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:58,854 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:58,858 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:58,858 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:58,865 - server - INFO - Logging configuration complete
2025-12-09 17:11:58,865 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:58,879 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,909 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:58,919 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:59,103 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:59,104 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:59,104 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:59,121 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:11:59,122 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:11:59,124 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:59,124 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:59,125 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:59,129 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:59,129 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:59,135 - server - INFO - Logging configuration complete
2025-12-09 17:11:59,135 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:59,146 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,179 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,190 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:59,377 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:59,378 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:59,378 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:59,394 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:11:59,396 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:11:59,398 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:59,399 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:59,400 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:59,404 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:59,405 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:59,411 - server - INFO - Logging configuration complete
2025-12-09 17:11:59,411 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:59,421 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,453 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,463 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:59,633 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:59,633 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:59,634 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:59,656 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:11:59,658 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:11:59,659 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:11:59,662 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:59,662 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:59,664 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:59,667 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:59,668 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:59,674 - server - INFO - Logging configuration complete
2025-12-09 17:11:59,675 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:59,687 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,719 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,730 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:11:59,907 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:11:59,908 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:11:59,908 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:11:59,923 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:11:59,925 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:11:59,925 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:11:59,926 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:11:59,930 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:11:59,931 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:11:59,936 - server - INFO - Logging configuration complete
2025-12-09 17:11:59,937 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:11:59,948 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,978 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:11:59,988 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:00,174 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:00,174 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:00,174 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:00,190 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:00,191 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:00,192 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:00,198 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:00,198 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:00,205 - server - INFO - Logging configuration complete
2025-12-09 17:12:00,205 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:00,217 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,251 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,261 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:00,498 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:00,498 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:00,499 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:00,521 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:12:00,525 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:00,527 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:00,528 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:00,529 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:00,533 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:00,534 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:00,540 - server - INFO - Logging configuration complete
2025-12-09 17:12:00,541 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:00,551 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,588 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,598 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:00,783 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:00,784 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:00,784 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:00,799 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:12:00,802 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:00,803 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:00,804 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:00,805 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:00,809 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:00,809 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:00,816 - server - INFO - Logging configuration complete
2025-12-09 17:12:00,816 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:00,827 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,858 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:00,869 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:01,041 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:01,041 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:01,042 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:01,060 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:12:01,063 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,065 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:01,065 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:01,067 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:01,071 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:01,071 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:01,090 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:12:01,094 - httpx - INFO - HTTP Request: GET http://test/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,116 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-1
2025-12-09 17:12:01,119 - httpx - INFO - HTTP Request: GET http://test/api/v1/data/df-1/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,119 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-2
2025-12-09 17:12:01,121 - httpx - INFO - HTTP Request: GET http://test/api/v1/data/df-2/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,122 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-3
2025-12-09 17:12:01,124 - httpx - INFO - HTTP Request: GET http://test/api/v1/data/df-3/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,129 - server - INFO - Logging configuration complete
2025-12-09 17:12:01,130 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:01,141 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,178 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,188 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:01,364 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:01,364 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:01,365 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:01,380 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: invalid@id
2025-12-09 17:12:01,381 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/invalid@id/preview "HTTP/1.1 200 OK"
2025-12-09 17:12:01,383 - httpx - INFO - HTTP Request: GET http://testserver/etc/passwd/preview "HTTP/1.1 404 Not Found"
2025-12-09 17:12:01,385 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:01,385 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:01,386 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:01,390 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:01,390 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:01,397 - server - INFO - Logging configuration complete
2025-12-09 17:12:01,397 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:01,410 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,439 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,449 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:01,620 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:01,621 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:01,621 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:01,639 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:12:01,641 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:12:01,642 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:12:01,644 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:01,644 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:01,645 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:01,649 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:01,649 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:01,656 - server - INFO - Logging configuration complete
2025-12-09 17:12:01,657 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:01,668 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,700 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,710 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:01,883 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:01,884 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:01,884 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:01,899 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:01,900 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:01,900 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:01,902 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:01,905 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:01,906 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:01,912 - server - INFO - Logging configuration complete
2025-12-09 17:12:01,913 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:01,924 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,954 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:01,964 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:02,149 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:02,149 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:02,150 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:02,171 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:02,173 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:02,174 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:02,175 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:02,181 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:02,182 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:02,188 - server - INFO - Logging configuration complete
2025-12-09 17:12:02,189 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:02,202 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,233 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,243 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:02,412 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:02,412 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:02,412 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:02,439 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:02,452 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:02,453 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:02,454 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:02,458 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:02,458 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:02,464 - server - INFO - Logging configuration complete
2025-12-09 17:12:02,465 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:02,475 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,506 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,516 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:02,705 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:02,705 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:02,706 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:02,721 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:02,723 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:02,723 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:02,724 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:02,730 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:02,730 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:02,737 - server - INFO - Logging configuration complete
2025-12-09 17:12:02,737 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:02,748 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,780 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:02,790 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:02,965 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:02,966 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:02,966 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:03,177 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:03,189 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:03,190 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:03,191 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:03,197 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:03,197 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:03,204 - server - INFO - Logging configuration complete
2025-12-09 17:12:03,204 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:03,216 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,246 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,256 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:03,425 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:03,425 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:03,426 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:03,442 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123 "HTTP/1.1 404 Not Found"
2025-12-09 17:12:03,444 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:03,444 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:03,445 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:03,449 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:03,450 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:03,455 - server - INFO - Logging configuration complete
2025-12-09 17:12:03,456 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:03,467 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,499 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,509 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:03,685 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:03,686 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:03,686 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:03,702 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status "HTTP/1.1 404 Not Found"
2025-12-09 17:12:03,714 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:03,714 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:03,716 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:03,721 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:03,722 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:03,728 - server - INFO - Logging configuration complete
2025-12-09 17:12:03,728 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:03,740 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,770 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:03,779 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:03,948 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:03,949 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:03,949 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:03,975 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:12:03,978 - app.api.v1.endpoints.graph - ERROR - Error fetching explorer data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:12:03,979 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:12:03,981 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:03,982 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:03,983 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:03,987 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:03,987 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:03,993 - server - INFO - Logging configuration complete
2025-12-09 17:12:03,994 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:04,006 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,040 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,052 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:04,230 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:04,231 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:04,231 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:04,248 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,250 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:04,250 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:04,251 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:04,255 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:04,255 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:04,261 - server - INFO - Logging configuration complete
2025-12-09 17:12:04,262 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:04,272 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,302 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,312 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:04,484 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:04,485 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:04,485 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:04,503 - app.api.v1.endpoints.graph - INFO - Fetching visualization data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:12:04,506 - app.api.v1.endpoints.graph - ERROR - Error fetching visualization data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:12:04,507 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:12:04,509 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:04,509 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:04,510 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:04,514 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:04,514 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:04,520 - server - INFO - Logging configuration complete
2025-12-09 17:12:04,521 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:04,531 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,562 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,572 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:04,751 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:04,752 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:04,752 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:04,772 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,775 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:04,776 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:04,777 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:04,781 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:04,782 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:04,811 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,843 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,844 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,846 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:04,852 - server - INFO - Logging configuration complete
2025-12-09 17:12:04,853 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:04,867 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,914 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:04,927 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:05,115 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:05,116 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:05,116 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:05,133 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:05,135 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:05,135 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:05,137 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:05,142 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:05,142 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:05,149 - server - INFO - Logging configuration complete
2025-12-09 17:12:05,150 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:05,161 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,191 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,201 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:05,370 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:05,371 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:05,371 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:05,387 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:05,400 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:05,401 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:05,402 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:05,405 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:05,406 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:05,412 - server - INFO - Logging configuration complete
2025-12-09 17:12:05,412 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:05,424 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,457 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,466 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:05,644 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:05,644 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:05,645 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:05,659 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123&checkpoint_id=invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:12:05,660 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:05,661 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:05,662 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:05,667 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:05,667 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:05,674 - server - INFO - Logging configuration complete
2025-12-09 17:12:05,674 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:05,686 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,715 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,725 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:05,898 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:05,899 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:05,899 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:05,913 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:05,929 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:05,930 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:05,931 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:05,936 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:05,937 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:05,943 - server - INFO - Logging configuration complete
2025-12-09 17:12:05,944 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:05,955 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,987 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:05,998 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:06,175 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:06,176 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:06,176 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:06,190 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:06,201 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:06,201 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:06,203 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:06,206 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:06,207 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:06,213 - server - INFO - Logging configuration complete
2025-12-09 17:12:06,213 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:06,225 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,255 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,265 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:06,433 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:06,433 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:06,434 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:06,459 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:06,473 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:06,473 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:06,475 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:06,478 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:06,478 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:06,484 - server - INFO - Logging configuration complete
2025-12-09 17:12:06,485 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:06,496 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,529 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,540 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:06,714 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:06,715 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:06,715 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:06,750 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:12:06,752 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:06,753 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:06,754 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:06,757 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:06,758 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:06,763 - server - INFO - Logging configuration complete
2025-12-09 17:12:06,764 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:06,774 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,805 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:06,815 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:07,004 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:07,005 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:07,005 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:07,024 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:12:07,026 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:07,026 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:07,028 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:07,032 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:07,033 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:07,039 - server - INFO - Logging configuration complete
2025-12-09 17:12:07,040 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:07,051 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,081 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,090 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:07,269 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:07,270 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:07,270 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:07,286 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/non-existent/result "HTTP/1.1 404 Not Found"
2025-12-09 17:12:07,289 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:07,289 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:07,291 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:07,294 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:07,295 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:07,313 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:07,334 - httpx - INFO - HTTP Request: GET http://test/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:12:07,339 - server - INFO - Logging configuration complete
2025-12-09 17:12:07,340 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:07,351 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,383 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,395 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:07,584 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:07,585 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:07,585 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:07,600 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:12:07,601 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:07,602 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:07,603 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:07,609 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:07,611 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:07,617 - server - INFO - Logging configuration complete
2025-12-09 17:12:07,617 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:07,628 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,657 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:07,667 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:08,007 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:08,008 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:08,008 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:08,025 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:12:08,027 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:08,027 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:08,028 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:08,033 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:08,034 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:08,040 - server - INFO - Logging configuration complete
2025-12-09 17:12:08,041 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:08,052 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,083 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,093 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:08,265 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:08,266 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:08,266 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:08,281 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:12:08,283 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:08,283 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:08,285 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:08,290 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:08,290 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:08,296 - server - INFO - Logging configuration complete
2025-12-09 17:12:08,297 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:08,308 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,345 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,356 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:08,534 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:08,535 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:08,535 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:08,551 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:12:08,553 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:08,553 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:08,554 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:08,559 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:08,560 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:08,566 - server - INFO - Logging configuration complete
2025-12-09 17:12:08,566 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:08,577 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,606 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:08,616 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:08,790 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:08,791 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:08,791 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:08,806 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:12:08,808 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:08,808 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:08,809 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:08,813 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:08,813 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:08,834 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:08,836 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:08,837 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:08,838 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:08,839 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:08,857 - httpx - INFO - HTTP Request: POST http://test/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:12:13,994 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:12:13,994 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:12:13,996 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:12:14,001 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:12:14,001 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:12:16,787 - server - INFO - Logging configuration complete
2025-12-09 17:12:16,788 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:16,907 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:16,930 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:16,940 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:17,267 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:17,268 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:17,268 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:53,199 - server - INFO - Logging configuration complete
2025-12-09 17:12:53,200 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:12:53,228 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:53,264 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:12:53,276 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:12:53,684 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:12:53,685 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:12:53,685 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:12:55,222 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:12:58,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:12:58,083 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:12:58,092 - app.services.redis_dataframe_service - INFO - Initialized RedisDataFrameService with TTL: 3600s
2025-12-09 17:12:58,095 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:2968d9e457074690bf26e51489606c25 with shape (1, 1), expires at 2025-12-09 18:12:58.095307
2025-12-09 17:12:58,096 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:2968d9e457074690bf26e51489606c25 with shape (1, 1)
2025-12-09 17:12:58,097 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:2968d9e457074690bf26e51489606c25", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:12:58.095307", "expires_at": "2025-12-09T18:12:58.095307", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:2968d9e457074690bf26e51489606c25 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:12:58 UTC."}', name='sql_db_to_df', tool_call_id='call_JAALMJs8lAoT9qYBLyUkdCny')]}
2025-12-09 17:12:58,098 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_JAALMJs8lAoT9qYBLyUkdCny: {"data_context": {"df_id": "df:2968d9e457074690bf26e51489606c25", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:12:58.095307", "expires_at": "2025-12-09T18:12:58.095307", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:2968d9e457074690bf26e51489606c25 (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:12:58 UTC."}
2025-12-09 17:12:58,098 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_JAALMJs8lAoT9qYBLyUkdCny: df_id=df:2968d9e457074690bf26e51489606c25
2025-12-09 17:13:00,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:00,970 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:2968d9e457074690bf26e51489606c25 with shape (1, 1)
2025-12-09 17:13:00,971 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:2968d9e457074690bf26e51489606c25 by 3600s
2025-12-09 17:13:00,972 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:2968d9e457074690bf26e51489606c25
2025-12-09 17:13:01,264 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:2968d9e457074690bf26e51489606c25
2025-12-09 17:13:01,265 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_wFvH5UTEjFDVNSuZxJdIEvFW')]}
2025-12-09 17:13:02,870 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:02,887 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:13:02,889 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:13:03,192 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:03,193 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:03,194 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:03,197 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:03,198 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:03,205 - server - INFO - Logging configuration complete
2025-12-09 17:13:03,205 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:03,217 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:03,250 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:03,260 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:03,444 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:03,445 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:03,445 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:03,461 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:03,462 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:03,463 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:03,464 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:03,469 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:03,470 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:03,476 - server - INFO - Logging configuration complete
2025-12-09 17:13:03,476 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:03,488 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:03,521 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:03,533 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:03,711 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:03,712 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:03,712 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:04,900 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:07,373 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:07,428 - app.agents.tools.data_analysis_tools - INFO - Executing SQL query: SELECT AVG(Total) AS AverageSales FROM invoices
2025-12-09 17:13:07,440 - app.services.redis_dataframe_service - INFO - Stored DataFrame df:b28aa66f886642e1aadde331ee559030 with shape (1, 1), expires at 2025-12-09 18:13:07.440395
2025-12-09 17:13:07,441 - app.agents.tools.data_analysis_tools - INFO - Successfully stored DataFrame df:b28aa66f886642e1aadde331ee559030 with shape (1, 1)
2025-12-09 17:13:07,442 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='{"data_context": {"df_id": "df:b28aa66f886642e1aadde331ee559030", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:13:07.440395", "expires_at": "2025-12-09T18:13:07.440395", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:b28aa66f886642e1aadde331ee559030 (1 rows \\u00d7 1 columns). Expires at 2025-12-09 18:13:07 UTC."}', name='sql_db_to_df', tool_call_id='call_mFR1KlGNBo7pzekU1CTcpD91')]}
2025-12-09 17:13:07,443 - app.agents.data_exploration_agent - INFO - sql_db_to_df raw output for tool_call_id=call_mFR1KlGNBo7pzekU1CTcpD91: {"data_context": {"df_id": "df:b28aa66f886642e1aadde331ee559030", "sql_query": "SELECT AVG(Total) AS AverageSales FROM invoices", "columns": ["AverageSales"], "shape": [1, 1], "created_at": "2025-12-09T17:13:07.440395", "expires_at": "2025-12-09T18:13:07.440395", "metadata": {}}, "description": "SQL query executed successfully and DataFrame stored in Redis with ID df:b28aa66f886642e1aadde331ee559030 (1 rows \u00d7 1 columns). Expires at 2025-12-09 18:13:07 UTC."}
2025-12-09 17:13:07,443 - app.agents.data_exploration_agent - INFO - Successfully updated data_context for tool_call_id=call_mFR1KlGNBo7pzekU1CTcpD91: df_id=df:b28aa66f886642e1aadde331ee559030
2025-12-09 17:13:09,429 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:09,488 - app.services.redis_dataframe_service - INFO - Retrieved DataFrame df:b28aa66f886642e1aadde331ee559030 with shape (1, 1)
2025-12-09 17:13:09,489 - app.services.redis_dataframe_service - INFO - Extended TTL for DataFrame df:b28aa66f886642e1aadde331ee559030 by 3600s
2025-12-09 17:13:09,490 - app.agents.tools.data_analysis_tools - INFO - Executing Python code in subprocess for DataFrame df:b28aa66f886642e1aadde331ee559030
2025-12-09 17:13:09,756 - app.agents.tools.data_analysis_tools - INFO - Python code executed successfully for DataFrame df:b28aa66f886642e1aadde331ee559030
2025-12-09 17:13:09,757 - app.agents.data_exploration_agent - INFO - Tool node result: {'messages': [ToolMessage(content='0    5.651942\nName: AverageSales, dtype: float64', name='python_repl', tool_call_id='call_UVpaNqNFgvtnmUfR04LIVa8c')]}
2025-12-09 17:13:11,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-09 17:13:11,261 - app.services.agent_service - INFO - Agent executed successfully for thread test-session-123
2025-12-09 17:13:11,264 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/run "HTTP/1.1 200 OK"
2025-12-09 17:13:11,277 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:11,277 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:11,279 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:11,282 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:11,283 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:11,288 - server - INFO - Logging configuration complete
2025-12-09 17:13:11,289 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:11,300 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,331 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,342 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:11,511 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:11,512 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:11,512 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:11,537 - app.services.agent_service - INFO - Successfully deleted thread test-thread-123
2025-12-09 17:13:11,538 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/test-thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:13:11,540 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:11,540 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:11,542 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:11,545 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:11,546 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:11,552 - server - INFO - Logging configuration complete
2025-12-09 17:13:11,552 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:11,563 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,593 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,602 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:11,793 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:11,794 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:11,794 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:11,814 - app.services.agent_service - INFO - Successfully deleted thread non-existent
2025-12-09 17:13:11,815 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/threads/non-existent "HTTP/1.1 200 OK"
2025-12-09 17:13:11,825 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:11,825 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:11,827 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:11,831 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:11,831 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:11,837 - server - INFO - Logging configuration complete
2025-12-09 17:13:11,838 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:11,848 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,880 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:11,891 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:12,067 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:12,068 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:12,068 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:12,082 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:12,082 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:12,083 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:12,087 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:12,087 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:12,093 - server - INFO - Logging configuration complete
2025-12-09 17:13:12,093 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:12,104 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,135 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,145 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:12,332 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:12,332 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:12,333 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:12,353 - app.services.agent_service - ERROR - Failed to update state for thread test-thread-123: 
2025-12-09 17:13:12,355 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/test-thread-123/state "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:13:12,366 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:12,367 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:12,368 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:12,374 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:12,374 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:12,380 - server - INFO - Logging configuration complete
2025-12-09 17:13:12,381 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:12,392 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,422 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,432 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:12,596 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:12,597 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:12,597 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:12,623 - app.services.agent_service - INFO - Successfully deleted thread thread-1
2025-12-09 17:13:12,625 - app.services.agent_service - INFO - Successfully deleted thread thread-2
2025-12-09 17:13:12,625 - app.services.agent_service - INFO - Bulk deletion completed: 2/2 threads deleted
2025-12-09 17:13:12,626 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/agent/threads/bulk-delete "HTTP/1.1 200 OK"
2025-12-09 17:13:12,628 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:12,628 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:12,630 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:12,633 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:12,634 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:12,640 - server - INFO - Logging configuration complete
2025-12-09 17:13:12,641 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:12,652 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,689 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,699 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:12,889 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:12,889 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:12,889 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:12,912 - app.services.agent_service - INFO - Checkpoint cleanup requested for items older than 30 days
2025-12-09 17:13:12,913 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=30 "HTTP/1.1 200 OK"
2025-12-09 17:13:12,915 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:12,915 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:12,916 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:12,920 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:12,920 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:12,927 - server - INFO - Logging configuration complete
2025-12-09 17:13:12,928 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:12,938 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,975 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:12,987 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:13,174 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:13,174 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:13,175 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:13,193 - app.services.agent_service - INFO - Checkpoint cleanup requested for items older than 60 days
2025-12-09 17:13:13,194 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/agent/checkpoints/cleanup?older_than_days=60 "HTTP/1.1 200 OK"
2025-12-09 17:13:13,196 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:13,196 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:13,197 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:13,201 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:13,201 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:13,207 - server - INFO - Logging configuration complete
2025-12-09 17:13:13,207 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:13,218 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,250 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,262 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:13,444 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:13,444 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:13,445 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:13,464 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:13:13,466 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:13,466 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:13,468 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:13,471 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:13,472 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:13,478 - server - INFO - Logging configuration complete
2025-12-09 17:13:13,478 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:13,488 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,519 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,529 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:13,707 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:13,708 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:13,709 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:13,728 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/agent/health "HTTP/1.1 200 OK"
2025-12-09 17:13:13,740 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:13,741 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:13,743 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:13,746 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:13,747 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:13,753 - server - INFO - Logging configuration complete
2025-12-09 17:13:13,754 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:13,766 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,799 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:13,810 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:14,172 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:14,173 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:14,173 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:14,192 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:13:14,204 - app.api.v1.endpoints.conversation - INFO - Creating conversation with title: 'Test Conversation'
2025-12-09 17:13:14,204 - app.api.v1.endpoints.conversation - ERROR - Error creating conversation: 'dict' object has no attribute 'thread_id'
2025-12-09 17:13:14,205 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:13:14,221 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:14,222 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:14,224 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:14,228 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:14,228 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:14,235 - server - INFO - Logging configuration complete
2025-12-09 17:13:14,235 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:14,248 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,281 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,293 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:14,496 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:14,496 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:14,497 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:14,510 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:13:14,513 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:14,514 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:14,515 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:14,516 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:14,519 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:14,520 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:14,525 - server - INFO - Logging configuration complete
2025-12-09 17:13:14,526 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:14,537 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,567 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,577 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:14,765 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:14,766 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:14,767 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:14,784 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/ "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:13:14,795 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:13:14,802 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation "HTTP/1.1 200 OK"
2025-12-09 17:13:14,804 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:14,805 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:14,806 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:14,812 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:14,812 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:14,822 - server - INFO - Logging configuration complete
2025-12-09 17:13:14,823 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:14,833 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,870 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:14,882 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:15,079 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:15,079 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:15,080 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:15,093 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=10&skip=5 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:13:15,096 - app.api.v1.endpoints.conversation - INFO - Retrieving conversations
2025-12-09 17:13:15,099 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=10&skip=5 "HTTP/1.1 200 OK"
2025-12-09 17:13:15,101 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:15,102 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:15,103 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:15,106 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:15,107 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:15,112 - server - INFO - Logging configuration complete
2025-12-09 17:13:15,113 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:15,123 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,157 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,166 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:15,336 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:15,337 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:15,337 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:15,351 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/?limit=200 "HTTP/1.1 307 Temporary Redirect"
2025-12-09 17:13:15,353 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation?limit=200 "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:15,355 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:15,355 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:15,357 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:15,361 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:15,362 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:15,367 - server - INFO - Logging configuration complete
2025-12-09 17:13:15,368 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:15,378 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,406 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,414 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:15,571 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:15,572 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:15,572 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:15,590 - app.api.v1.endpoints.conversation - INFO - Retrieving thread thread-123
2025-12-09 17:13:15,590 - app.api.v1.endpoints.conversation - ERROR - Error retrieving conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:13:15,591 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:13:15,604 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:15,604 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:15,606 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:15,609 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:15,610 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:15,616 - server - INFO - Logging configuration complete
2025-12-09 17:13:15,616 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:15,627 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,657 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,666 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:15,837 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:15,837 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:15,838 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:15,853 - app.api.v1.endpoints.conversation - INFO - Retrieving thread non-existent
2025-12-09 17:13:15,854 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/non-existent "HTTP/1.1 404 Not Found"
2025-12-09 17:13:15,856 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:15,856 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:15,857 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:15,861 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:15,861 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:15,867 - server - INFO - Logging configuration complete
2025-12-09 17:13:15,868 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:15,878 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,906 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:15,916 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:16,077 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:16,077 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:16,078 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:16,098 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 200 OK"
2025-12-09 17:13:16,099 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:16,100 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:16,101 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:16,105 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:16,105 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:16,111 - server - INFO - Logging configuration complete
2025-12-09 17:13:16,112 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:16,123 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,153 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,162 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:16,327 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:16,328 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:16,328 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:16,344 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/title "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:16,346 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:16,347 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:16,348 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:16,352 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:16,353 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:16,358 - server - INFO - Logging configuration complete
2025-12-09 17:13:16,359 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:16,368 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,397 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,406 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:16,570 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:16,570 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:16,570 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:16,592 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:13:16,594 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:16,594 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:16,596 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:16,599 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:16,599 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:16,605 - server - INFO - Logging configuration complete
2025-12-09 17:13:16,606 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:16,618 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,651 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,662 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:16,822 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:16,823 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:16,823 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:16,838 - httpx - INFO - HTTP Request: DELETE http://testserver/api/v1/conversation/non-existent "HTTP/1.1 404 Not Found"
2025-12-09 17:13:16,840 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:16,841 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:16,843 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:16,848 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:16,849 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:16,855 - server - INFO - Logging configuration complete
2025-12-09 17:13:16,855 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:16,866 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,895 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:16,904 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:17,076 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:17,077 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:17,077 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:17,099 - app.api.v1.endpoints.conversation - INFO - Restoring conversation thread-123
2025-12-09 17:13:17,102 - app.api.v1.endpoints.conversation - ERROR - Error restoring conversation thread-123: 'dict' object has no attribute 'thread_id'
2025-12-09 17:13:17,103 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/restore "HTTP/1.1 500 Internal Server Error"
2025-12-09 17:13:17,116 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:17,116 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:17,117 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:17,123 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:17,123 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:17,130 - server - INFO - Logging configuration complete
2025-12-09 17:13:17,131 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:17,142 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,172 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,181 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:17,346 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:17,347 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:17,348 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:17,374 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/conversation/thread-123/messages/status "HTTP/1.1 200 OK"
2025-12-09 17:13:17,376 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:17,376 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:17,377 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:17,381 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:17,381 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:17,387 - server - INFO - Logging configuration complete
2025-12-09 17:13:17,388 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:17,399 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,429 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,439 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:17,620 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:17,620 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:17,621 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:17,643 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/status "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:17,655 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:17,656 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:17,657 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:17,660 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:17,661 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:17,666 - server - INFO - Logging configuration complete
2025-12-09 17:13:17,667 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:17,677 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,705 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,715 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:17,884 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:17,884 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:17,884 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:17,904 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:17,915 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:17,916 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:17,917 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:17,923 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:17,923 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:17,929 - server - INFO - Logging configuration complete
2025-12-09 17:13:17,929 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:17,940 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,972 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:17,983 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:18,146 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:18,147 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:18,148 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:18,162 - httpx - INFO - HTTP Request: PATCH http://testserver/api/v1/conversation/thread-123/messages/1/blocks/block-123/approval "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:18,164 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:18,165 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:18,166 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:18,170 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:18,170 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:18,176 - server - INFO - Logging configuration complete
2025-12-09 17:13:18,176 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:18,186 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,214 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,223 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:18,381 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:18,382 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:18,382 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:18,403 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error?error_message=Test%20error "HTTP/1.1 200 OK"
2025-12-09 17:13:18,404 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:18,405 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:18,406 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:18,411 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:18,411 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:18,417 - server - INFO - Logging configuration complete
2025-12-09 17:13:18,417 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:18,428 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,457 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,467 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:18,638 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:18,638 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:18,639 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:18,653 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/conversation/thread-123/messages/1/error "HTTP/1.1 200 OK"
2025-12-09 17:13:18,654 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:18,655 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:18,656 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:18,660 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:18,660 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:18,666 - server - INFO - Logging configuration complete
2025-12-09 17:13:18,666 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:18,677 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,704 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:18,714 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:18,895 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:18,896 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:18,896 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:19,099 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:19,100 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:19,101 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:19,104 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:19,105 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:19,110 - server - INFO - Logging configuration complete
2025-12-09 17:13:19,111 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:19,122 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,151 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,161 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:19,337 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:19,338 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:19,338 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:19,364 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:19,368 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:19,370 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:19,370 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:19,372 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:19,375 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:19,375 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:19,381 - server - INFO - Logging configuration complete
2025-12-09 17:13:19,382 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:19,393 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,426 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,436 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:19,617 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:19,618 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:19,618 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:19,635 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: non-existent
2025-12-09 17:13:19,637 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/non-existent/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:19,639 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:19,640 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:19,641 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:19,645 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:19,645 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:19,651 - server - INFO - Logging configuration complete
2025-12-09 17:13:19,652 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:19,662 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,697 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,707 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:19,878 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:19,879 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:19,879 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:19,899 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:19,900 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:19,901 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:19,902 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:19,903 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:19,910 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:19,910 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:19,917 - server - INFO - Logging configuration complete
2025-12-09 17:13:19,917 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:19,931 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,962 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:19,973 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:20,151 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:20,151 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:20,152 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:20,167 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:20,170 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:20,172 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:20,173 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:20,174 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:20,177 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:20,178 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:20,184 - server - INFO - Logging configuration complete
2025-12-09 17:13:20,184 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:20,196 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,228 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,238 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:20,422 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:20,423 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:20,423 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:20,445 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:13:20,447 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:13:20,448 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:13:20,450 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:20,450 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:20,452 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:20,457 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:20,457 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:20,463 - server - INFO - Logging configuration complete
2025-12-09 17:13:20,464 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:20,475 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,508 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,519 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:20,691 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:20,691 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:20,692 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:20,708 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:20,710 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:20,710 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:20,711 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:20,716 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:20,717 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:20,722 - server - INFO - Logging configuration complete
2025-12-09 17:13:20,723 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:20,733 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,762 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:20,771 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:20,941 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:20,942 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:20,942 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:20,957 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:20,957 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:20,959 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:20,964 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:20,965 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:20,971 - server - INFO - Logging configuration complete
2025-12-09 17:13:20,971 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:20,982 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,014 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,023 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:21,184 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:21,184 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:21,185 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:21,201 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:21,203 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:21,205 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:21,205 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:21,206 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:21,211 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:21,212 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:21,218 - server - INFO - Logging configuration complete
2025-12-09 17:13:21,218 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:21,228 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,258 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,267 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:21,436 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:21,437 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:21,437 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:21,454 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:21,456 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:21,458 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:21,458 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:21,460 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:21,462 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:21,463 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:21,469 - server - INFO - Logging configuration complete
2025-12-09 17:13:21,469 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:21,479 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,509 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,518 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:21,681 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:21,681 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:21,682 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:21,696 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: df-123
2025-12-09 17:13:21,698 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/df-123/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:21,700 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:21,701 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:21,702 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:21,705 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:21,706 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:21,711 - server - INFO - Logging configuration complete
2025-12-09 17:13:21,712 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:21,722 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,751 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:21,760 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:21,934 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:21,935 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:21,935 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:21,950 - app.api.v1.endpoints.data - INFO - Fetching preview for DataFrame: invalid@id
2025-12-09 17:13:21,951 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/data/invalid@id/preview "HTTP/1.1 200 OK"
2025-12-09 17:13:21,953 - httpx - INFO - HTTP Request: GET http://testserver/etc/passwd/preview "HTTP/1.1 404 Not Found"
2025-12-09 17:13:21,955 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:21,955 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:21,956 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:21,962 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:21,962 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:21,968 - server - INFO - Logging configuration complete
2025-12-09 17:13:21,968 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:21,979 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,006 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,015 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:22,180 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:22,180 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:22,181 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:22,195 - app.api.v1.endpoints.data - INFO - Recreating DataFrame for thread thread-123
2025-12-09 17:13:22,197 - app.api.v1.endpoints.data - ERROR - Error recreating DataFrame for thread thread-123: 'Mock' object is not iterable
2025-12-09 17:13:22,198 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 200 OK"
2025-12-09 17:13:22,200 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:22,201 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:22,202 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:22,207 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:22,208 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:22,214 - server - INFO - Logging configuration complete
2025-12-09 17:13:22,215 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:22,225 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,252 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,262 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:22,440 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:22,441 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:22,441 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:22,458 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:22,459 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:22,460 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:22,461 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:22,464 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:22,464 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:22,469 - server - INFO - Logging configuration complete
2025-12-09 17:13:22,470 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:22,480 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,509 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,518 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:22,680 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:22,681 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:22,681 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:22,696 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/data/recreate "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:22,698 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:22,699 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:22,700 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:22,703 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:22,703 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:22,709 - server - INFO - Logging configuration complete
2025-12-09 17:13:22,709 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:22,719 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,749 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:22,759 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:22,934 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:22,935 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:22,935 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:22,961 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:22,976 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:22,976 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:22,977 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:22,980 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:22,981 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:22,986 - server - INFO - Logging configuration complete
2025-12-09 17:13:22,987 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:22,997 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,025 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,035 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:23,201 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:23,201 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:23,202 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:23,218 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:23,220 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:23,220 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:23,221 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:23,226 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:23,227 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:23,233 - server - INFO - Logging configuration complete
2025-12-09 17:13:23,233 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:23,244 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,277 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,286 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:23,456 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:23,457 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:23,457 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:23,480 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:23,492 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:23,493 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:23,494 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:23,497 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:23,497 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:23,502 - server - INFO - Logging configuration complete
2025-12-09 17:13:23,503 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:23,513 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,541 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,551 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:23,710 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:23,711 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:23,711 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:23,727 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123 "HTTP/1.1 404 Not Found"
2025-12-09 17:13:23,729 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:23,729 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:23,731 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:23,734 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:23,735 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:23,740 - server - INFO - Logging configuration complete
2025-12-09 17:13:23,741 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:23,752 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,782 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:23,791 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:24,128 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:24,128 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:24,129 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:24,141 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status "HTTP/1.1 404 Not Found"
2025-12-09 17:13:24,153 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:24,154 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:24,155 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:24,158 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:24,159 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:24,164 - server - INFO - Logging configuration complete
2025-12-09 17:13:24,165 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:24,175 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,208 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,219 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:24,411 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:24,411 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:24,411 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:24,432 - app.api.v1.endpoints.graph - INFO - Fetching explorer data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:13:24,435 - app.api.v1.endpoints.graph - ERROR - Error fetching explorer data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:13:24,436 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:13:24,437 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:24,438 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:24,439 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:24,444 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:24,444 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:24,450 - server - INFO - Logging configuration complete
2025-12-09 17:13:24,451 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:24,461 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,490 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,499 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:24,650 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:24,651 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:24,651 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:24,668 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/explorer "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:24,670 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:24,670 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:24,672 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:24,677 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:24,678 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:24,684 - server - INFO - Logging configuration complete
2025-12-09 17:13:24,684 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:24,695 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,727 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:24,739 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:24,941 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:24,942 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:24,942 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:24,967 - app.api.v1.endpoints.graph - INFO - Fetching visualization data for thread_id: thread-123, checkpoint_id: checkpoint-456
2025-12-09 17:13:24,971 - app.api.v1.endpoints.graph - ERROR - Error fetching visualization data: AsyncMock.keys() returned a non-iterable (type coroutine)
2025-12-09 17:13:24,972 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization?thread_id=thread-123&checkpoint_id=checkpoint-456 "HTTP/1.1 200 OK"
2025-12-09 17:13:24,974 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:24,975 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:24,976 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:24,980 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:24,981 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:24,987 - server - INFO - Logging configuration complete
2025-12-09 17:13:24,988 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:24,999 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,030 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,040 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:25,195 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:25,195 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:25,195 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:25,216 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/visualization "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:25,218 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:25,218 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:25,220 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:25,223 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:25,224 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:25,230 - server - INFO - Logging configuration complete
2025-12-09 17:13:25,231 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:25,243 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,273 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,282 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:25,455 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:25,456 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:25,456 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:25,472 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/start "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:25,474 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:25,474 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:25,476 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:25,479 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:25,479 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:25,484 - server - INFO - Logging configuration complete
2025-12-09 17:13:25,485 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:25,495 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,524 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,533 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:25,684 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:25,685 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:25,685 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:25,709 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:25,722 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:25,722 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:25,723 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:25,727 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:25,727 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:25,733 - server - INFO - Logging configuration complete
2025-12-09 17:13:25,734 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:25,744 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,776 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:25,786 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:25,950 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:25,950 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:25,951 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:25,966 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/status?thread_id=thread-123&checkpoint_id=invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:13:25,968 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:25,968 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:25,970 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:25,973 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:25,973 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:25,979 - server - INFO - Logging configuration complete
2025-12-09 17:13:25,979 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:25,990 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,017 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,026 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:26,193 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:26,193 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:26,194 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:26,210 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:13:26,227 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:26,228 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:26,229 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:26,233 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:26,234 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:26,239 - server - INFO - Logging configuration complete
2025-12-09 17:13:26,239 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:26,250 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,281 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,291 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:26,457 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:26,458 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:26,458 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:26,472 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/create "HTTP/1.1 405 Method Not Allowed"
2025-12-09 17:13:26,485 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:26,485 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:26,486 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:26,489 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:26,490 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:26,495 - server - INFO - Logging configuration complete
2025-12-09 17:13:26,496 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:26,506 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,534 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,542 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:26,713 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:26,713 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:26,713 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:26,737 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:26,751 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:26,752 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:26,753 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:26,756 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:26,757 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:26,762 - server - INFO - Logging configuration complete
2025-12-09 17:13:26,762 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:26,773 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,801 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:26,811 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:26,967 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:26,967 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:26,968 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:26,999 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:13:27,001 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:27,001 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:27,003 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:27,006 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:27,006 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:27,012 - server - INFO - Logging configuration complete
2025-12-09 17:13:27,012 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:27,023 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,051 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,060 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:27,236 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:27,237 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:27,237 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:27,252 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:13:27,253 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:27,254 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:27,255 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:27,260 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:27,261 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:27,266 - server - INFO - Logging configuration complete
2025-12-09 17:13:27,266 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:27,277 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,306 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,315 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:27,495 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:27,496 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:27,496 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:27,510 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/non-existent/result "HTTP/1.1 404 Not Found"
2025-12-09 17:13:27,512 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:27,512 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:27,513 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:27,518 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:27,519 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:27,525 - server - INFO - Logging configuration complete
2025-12-09 17:13:27,525 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:27,537 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,567 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,578 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:27,758 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:27,759 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:27,759 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:27,773 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/invalid "HTTP/1.1 404 Not Found"
2025-12-09 17:13:27,775 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:27,775 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:27,777 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:27,781 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:27,782 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:27,787 - server - INFO - Logging configuration complete
2025-12-09 17:13:27,788 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:27,797 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,826 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:27,836 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:28,005 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:28,006 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:28,006 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:28,021 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/graph/stream/resume "HTTP/1.1 422 Unprocessable Entity"
2025-12-09 17:13:28,022 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:28,023 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:28,024 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:28,028 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:28,028 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:28,034 - server - INFO - Logging configuration complete
2025-12-09 17:13:28,034 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:28,044 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,075 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,085 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:28,262 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:28,262 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:28,263 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:28,279 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:13:28,280 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:28,281 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:28,282 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:28,285 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:28,286 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:28,290 - server - INFO - Logging configuration complete
2025-12-09 17:13:28,291 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:28,438 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,472 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,483 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:28,652 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:28,652 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:28,653 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:28,672 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123 "HTTP/1.1 200 OK"
2025-12-09 17:13:28,674 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:28,674 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:28,675 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:28,679 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:28,679 - app.core.database - INFO - SQLAlchemy sync engine disposed
2025-12-09 17:13:28,685 - server - INFO - Logging configuration complete
2025-12-09 17:13:28,686 - server - INFO - Starting up Agent Backend API...
2025-12-09 17:13:28,696 - app.core.database - INFO - ✅ Connected to PostgreSQL (psycopg): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,725 - app.core.database - INFO - ✅ Connected to PostgreSQL (SQLAlchemy async): PostgreSQL 15.15 on x86_64-pc-linux-musl, compiled by gcc (Alpine 15.2.0) 15.2.0, 64-bit
2025-12-09 17:13:28,734 - app.core.checkpointer - INFO - ✅ LangGraph checkpointer tables created/verified
2025-12-09 17:13:28,899 - app.services.agent_service - INFO - Agent service initialized successfully
2025-12-09 17:13:28,900 - server - INFO - ✅ Agent service initialized with DB: app/resource/chinook.db
2025-12-09 17:13:28,900 - server - INFO - ✅ Using LLM provider: openai
2025-12-09 17:13:28,915 - httpx - INFO - HTTP Request: GET http://testserver/api/v1/graph/stream/thread-123/result "HTTP/1.1 404 Not Found"
2025-12-09 17:13:28,916 - server - INFO - Shutting down Agent Backend API...
2025-12-09 17:13:28,917 - app.services.agent_service - INFO - Agent service shutdown completed
2025-12-09 17:13:28,918 - app.core.database - INFO - psycopg connection pool closed
2025-12-09 17:13:28,923 - app.core.database - INFO - SQLAlchemy async engine disposed
2025-12-09 17:13:28,923 - app.core.database - INFO - SQLAlchemy sync engine disposed
